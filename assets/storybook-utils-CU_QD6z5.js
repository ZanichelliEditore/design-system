var a=(e=>(e.RED="red",e.GREEN="green",e.BLUE="blue",e.YELLOW="yellow",e.GRAY="gray",e.AVATAR="avatar",e.SUBJECT="subject",e))(a||{});function i(){return Array.from(document.styleSheets).flatMap(e=>Array.from(e.cssRules)).filter(e=>{var t;return e instanceof CSSStyleRule&&((t=e.selectorText)==null?void 0:t.includes(":root"))}).flatMap(e=>Object.values(e.style||{})).filter(Boolean)}function p(e){return Object.fromEntries(e.split(";").filter(Boolean).map(t=>t.trim().split(": ")))}function y(){const e=[...Object.values(a),"color"],t=i().filter(r=>e.some(s=>r.startsWith(`--${s}`)));return[...new Set(t)].sort()}function g(){return Object.values(a).reduce((e,t)=>{const r=i().filter(s=>s.startsWith(`--${t}`));return{...e,[t]:r.sort((s,u)=>+s.replace(/\D/g,"")-+u.replace(/\D/g,""))}},{})}function f(){return y().map(e=>`var(${e})`)}function m(){return f().reduce((e,t)=>{const r=t.replace(/^var\(--(.*)\)/,"$1");return{...e,[t]:r}},{null:"default"})}function d(e,t=void 0){const r=e.startsWith(".")?e:`.${e}`,s=t?t.startsWith(".")?t:`.${t}`:void 0;return Array.from(document.styleSheets).flatMap(o=>Array.from(o.cssRules)).filter(o=>o instanceof CSSStyleRule).filter(o=>{const n=o.selectorText.split(",").map(l=>l.trim());return n.includes(r)||n.includes(r+(s??""))}).reduce((o,n)=>{const l=p(n.style.cssText);for(const c of Object.keys(l))c.startsWith("--color")?l[c]=l[c].replace(/^var\((.+)\)/,"$1"):delete l[c];return{...o,...l}},{})}function h(e=!1){const t=f();return e&&t.unshift(null),{options:t,control:{type:"select",labels:m()}}}export{h as a,d as b,g as c,y as g};
