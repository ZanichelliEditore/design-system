import"./lit-element--ufgQf_M.js";import{x as M}from"./lit-html-rc9TYZL2.js";import{o as $}from"./style-map-DBxmrO_k.js";import{g as p}from"./storybook-utils-DX4XXC0w.js";import"./index-9WVNbtLu.js";import"./index-Cazbh-J_.js";import"./index-B6a-7KeA.js";import{s as A,g as c}from"./chunk-L4EGOTBX-BzYVsoCE.js";import"./entry-preview-uRqU0LK7.js";import{d as R,H as W,c as N,h as e,a as u}from"./index-BZ0rSFNp.js";import{h}from"./index-Dk5nO_yw.js";import"./directive-CF8sV3Lr.js";import"./index-CS5FiBEI.js";import"./utils-BSX0QfGo.js";import"./breakpoints-p3CVLX0Q.js";import"./index-DrFu-skq.js";const I=`z-pagination{--z-pagination--page-button-width:64px;--z-pagination--pages-container-max-width:100%;--z-pagination-background-color:var(--color-background);--z-pagination-background-color-hover:var(--color-surface01);display:flex;max-width:100%;flex-flow:column wrap;font-family:var(--font-family-sans);font-weight:var(--font-rg);gap:calc(var(--space-unit) * 2) calc(var(--space-unit) * 4)}z-pagination,z-pagination *{box-sizing:border-box}z-pagination button{height:100%}z-pagination z-icon{fill:var(--color-primary01-icon)}z-pagination *:disabled z-icon{fill:var(--color-disabled03)}z-pagination .page-label{margin-right:calc(var(--space-unit) * 3);color:var(--color-default-text)}z-pagination .pagination-bar{display:flex;max-width:100%;height:48px;align-items:center}z-pagination .pagination-bar button{display:flex;align-items:center;justify-content:center;border:none;margin:0;background-color:var(--z-pagination-background-color);color:var(--color-primary01);cursor:pointer;font-family:inherit;font-weight:inherit;transition:background-color 0.15s ease-out,
    color 0.15s ease-out,
    border-bottom-color 0.15s ease-out,
    font-size 0.15s ease-in-out,
    font-weight 0.15s ease-in-out}z-pagination .pagination-bar button:focus-visible{background-color:var(--color-surface01);outline:none}z-pagination .pagination-bar .pagination-button{padding:calc(var(--space-unit) * 2);font-weight:var(--font-sb);text-transform:uppercase;white-space:nowrap}z-pagination .pagination-bar .navigation-button{padding:calc(var(--space-unit) * 2) calc(var(--space-unit) * 1.5)}z-pagination .pagination-bar .pagination-button:disabled,z-pagination .pagination-bar .navigation-button:disabled{color:var(--color-disabled03);cursor:default;fill:var(--color-disabled03);pointer-events:none}z-pagination .pagination-bar .page-button,z-pagination .pagination-bar .ellipsis-button{width:var(--z-pagination--page-button-width)}z-pagination .pages-container{position:relative;display:inline-flex;max-width:100%;height:100%;overflow-x:auto;scroll-behavior:smooth;scroll-snap-align:center;scrollbar-width:none}z-pagination .pages-container::-webkit-scrollbar{display:none}z-pagination .pages-chunk{display:flex;scroll-snap-align:center}z-pagination .pagination-bar .page-button{padding-top:var(--border-size-large) solid transparent;border-bottom:var(--border-size-large) solid transparent;font-size:var(--font-size-2);font-weight:var(--font-sb)}z-pagination .pagination-bar .page-button[data-current]{border-bottom-color:var(--color-primary01);font-size:var(--font-size-7)}z-pagination .go-to-page{display:flex;flex-direction:column}z-pagination .go-to-page .inputs{display:flex;column-gap:var(--space-unit)}z-pagination .go-to-page .inputs z-input{width:calc(var(--space-unit) * 11)}z-pagination .go-to-page .inputs z-input input,z-pagination .mobile-go-to-page z-input input{padding:0 calc(var(--space-unit) * 1.5) !important;appearance:none}z-pagination .mobile-go-to-page{display:flex;height:100%;flex:1 auto;align-items:center;justify-content:center;background-color:var(--color-surface02)}z-pagination .mobile-go-to-page z-input{width:var(--z-pagination--page-button-width);margin-right:var(--space-unit)}z-pagination .mobile-go-to-page z-input input{text-align:center}z-pagination .mobile-go-to-page z-input input::-webkit-outer-spin-button,z-pagination .mobile-go-to-page z-input input::-webkit-inner-spin-button{appearance:none}z-pagination .mobile-go-to-page>span{font-size:var(--font-size-2)}@media (hover: hover){z-pagination .pagination-bar button:hover{background-color:var(--z-pagination-background-color-hover)}z-pagination .pagination-bar .page-button:hover{border-bottom-color:var(--color-hover-primary);color:var(--color-hover-primary)}}@media (min-width: 768px){z-pagination{--z-pagination--page-button-width:88px;flex-direction:row;align-items:flex-end}z-pagination .pages-container{max-width:var(--z-pagination--pages-container-max-width)}}`,Z=class extends W{constructor(){super(),this.__registerHost(),this.pageChanged=N(this,"pageChanged",7),this.navArrows=!0,this.skip=0,this.edges=!1,this.currentPage=1,this._visiblePages=this.visiblePages,this.isMobile=!1,this.goToPageValue=null}setPagesContainerWidth(){if(!this._visiblePages||this.split){this.host.style.setProperty("--z-pagination--pages-container-max-width","100%");return}const a=window.getComputedStyle(this.host).getPropertyValue("--z-pagination--page-button-width");this.host.style.setProperty("--z-pagination--pages-container-max-width",`calc(${a} * ${this._visiblePages})`)}setVisiblePages(){this._visiblePages=Math.min(this.visiblePages||this.totalPages,this.totalPages)}onPageChanged(){this.pageChanged.emit(this.currentPage),this.scrollToPage()}onSplitChanged(){this.split&&(this.edges=!1)}onResize(){this.setMobile()}setMobile(){const t="screen and (max-width: 767px)";this.isMobile=window.matchMedia(t).matches}getPagesChunks(){const t=Array.from({length:this.totalPages},(n,o)=>o+1),a=[],i=Math.ceil(t.length/this._visiblePages);for(let n=0;n<i;n++)a.push(t.slice(n*this._visiblePages,(n+1)*this._visiblePages));return a}scrollToPage(){var t,a;const i=this.host.querySelector(".pages-container"),n=this.host.querySelector(`[data-page="${this.currentPage}"]`),o=this.host.querySelector(".navigation-button");if(!n||!i)return;const B=i.getBoundingClientRect().width,_=n.getBoundingClientRect().width,E=(a=(t=o==null?void 0:o.getBoundingClientRect())===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0;i.scrollLeft=this.currentPage*_-E-B/2}selectPage(t){this.currentPage=Math.min(Math.max(t,1),this.totalPages)}renderPage(t){return e("button",{class:"page-button",type:"button","aria-current":this.currentPage===t?"page":"false",title:`Vai alla pagina ${t}`,"data-page":t,"data-current":this.currentPage===t,onClick:()=>this.selectPage(t)},t)}renderEllipsisButton(t){return e("button",{class:"ellipsis-button",type:"button",title:`Vai alla pagina ${t}`,onClick:()=>this.selectPage(t)},"â€¦")}renderPages(){const t=this.getPagesChunks();if(!(t.length<=0))return t.map(a=>e("div",{class:"pages-chunk"},a.map(i=>this.renderPage(i))))}renderSplitPages(){return this.totalPages<=this.split*2+5?Array.from({length:this.totalPages},(t,a)=>this.renderPage(a+1)):this.currentPage<=this.split*2+2?[...Array.from({length:this.split*2+3},(t,a)=>this.renderPage(a+1)),this.renderEllipsisButton(this.split*2+4),this.renderPage(this.totalPages)]:this.currentPage>this.split*2+2&&this.currentPage<this.totalPages-this.split*2-1?[this.renderPage(1),this.renderEllipsisButton(this.currentPage-this.split-1),...Array.from({length:this.split*2+1},(t,a)=>this.renderPage(this.currentPage-this.split+a)),this.renderEllipsisButton(this.currentPage+this.split+1),this.renderPage(this.totalPages)]:[this.renderPage(1),this.renderEllipsisButton(this.totalPages-this.split*2-3),...Array.from({length:this.split*2+3},(t,a)=>this.renderPage(this.totalPages-this.split*2-2+a))]}renderBackButton(){return e("button",{class:"navigation-button",type:"button",title:"Vai alla pagina precedente",disabled:this.currentPage===1,onClick:()=>this.selectPage(this.currentPage-1)},e("z-icon",{name:"chevron-left"}))}renderForwardButton(){return e("button",{class:"navigation-button",type:"button",title:"Vai alla prossima pagina",disabled:this.currentPage===this.totalPages,onClick:()=>this.selectPage(this.currentPage+1)},e("z-icon",{name:"chevron-right"}))}renderMobile(){const t=this.getPagesChunks();return[this.label&&e("span",{class:"page-label body-1-sb"},this.label),e("div",{class:"pagination-bar"},this.renderBackButton(),!this.goToPage&&e("div",{class:"pages-container",role:"navigation",tabIndex:-1},t.length>0&&t.map(a=>e("div",{class:"pages-chunk"},a.map(i=>this.renderPage(i))))),this.goToPage&&e("form",{class:"mobile-go-to-page",onSubmit:a=>{a.preventDefault(),this.selectPage(this.goToPageValue)}},e("z-input",{class:"go-to-page-input",type:h.NUMBER,min:1,max:this.totalPages,message:!1,onInput:a=>{this.goToPageValue=a.target.value},placeholder:this.currentPage.toString(),hasclearicon:!1}),e("span",null,`/${this.totalPages}`)),this.renderForwardButton())]}componentDidLoad(){this.setVisiblePages()}componentDidRender(){this.split&&(this.edges=!1),this.setPagesContainerWidth(),this.setMobile(),this.scrollToPage()}render(){return this.isMobile?e(u,null,this.renderMobile()):e(u,null,e("div",{class:"pagination-bar"},this.label&&e("span",{class:"page-label body-1-sb"},this.label),this.edges&&e("button",{class:"pagination-button",type:"button",title:"Vai alla pagina 1",disabled:this.currentPage===1,onClick:()=>this.selectPage(1)},"Pagina 1"),this.skip<this.totalPages&&this.skip>1&&e("button",{class:"pagination-button",type:"button",title:`Vai alla pagina ${this.currentPage-this.skip}`,disabled:this.currentPage<=this.skip,onClick:()=>this.selectPage(this.currentPage-this.skip)},"-",this.skip),this.navArrows&&this.renderBackButton(),e("div",{class:"pages-container",role:"navigation",tabIndex:-1},this.split?this.renderSplitPages():this.renderPages()),this.navArrows&&this.renderForwardButton(),this.skip<this.totalPages&&this.skip>1&&e("button",{class:"pagination-button",type:"button",title:`Vai alla pagina ${this.currentPage+this.skip}`,disabled:this.currentPage>this.totalPages-this.skip,onClick:()=>this.selectPage(this.currentPage+this.skip)},"+",this.skip),this.edges&&e("button",{class:"pagination-button",type:"button",title:`Vai alla pagina ${this.totalPages}`,disabled:this.currentPage===this.totalPages,onClick:()=>this.selectPage(this.totalPages)},"Pagina ",this.totalPages)),this.goToPage&&e("div",{class:"go-to-page"},e("span",{class:"z-label body-5-sb"},"Vai a pagina:"),e("div",{class:"inputs"},e("z-input",{class:"go-to-page-input",type:h.NUMBER,min:1,max:this.totalPages,message:!1,placeholder:"2",hasclearicon:!1,onInput:t=>{this.goToPageValue=t.target.value},onKeyDown:t=>t.key==="Enter"&&this.selectPage(this.goToPageValue)}),e("z-button",{disabled:!this.goToPageValue,title:"Vai alla pagina inserita",onClick:()=>this.selectPage(this.goToPageValue)},"vai"))))}get host(){return this}static get watchers(){return{_visiblePages:["setPagesContainerWidth"],visiblePages:["setVisiblePages"],currentPage:["onPageChanged"],split:["onSplitChanged"]}}static get style(){return I}};R(Z,[0,"z-pagination",{label:[1],navArrows:[4,"nav-arrows"],totalPages:[2,"total-pages"],skip:[2],edges:[4],split:[2],visiblePages:[2,"visible-pages"],currentPage:[1026,"current-page"],goToPage:[4,"go-to-page"],_visiblePages:[32],isMobile:[32],goToPageValue:[32]},[[9,"resize","onResize"]],{_visiblePages:["setPagesContainerWidth"],visiblePages:["setVisiblePages"],currentPage:["onPageChanged"],split:["onSplitChanged"]}]);const d={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"ZPagination",tagName:"z-pagination",customElement:!0,members:[{kind:"field",name:"label",type:"string",description:"Pagination label placed before the bar."},{kind:"field",name:"navArrows",type:"boolean",description:"Enable navigation arrows.",default:"true"},{kind:"field",name:"totalPages",type:"number",description:"Total number of pages. Required."},{kind:"field",name:"skip",type:"number",description:"Number of pages to skip.",default:"0"},{kind:"field",name:"edges",type:"boolean",description:"Enable buttons to go to the first and last pages.",default:"false"},{kind:"field",name:"split",type:"number",description:'Number of pages to show left/right of the current, before showing "load more" symbol (â€¦).'},{kind:"field",name:"visiblePages",type:"number",description:"Number of pages to show at a time. If not set, all pages will be shown."},{kind:"field",name:"currentPage",type:"number",description:"Current page.",default:"1"},{kind:"field",name:"goToPage",type:"boolean",description:'Whether to show "go to page" feature.'}],events:[{kind:"event",name:"pageChanged",description:"Event emitted when the current page has changed."}],cssProperties:[{name:"--z-pagination-background-color",description:"background of the pagination's tabs. The default is --color-background"},{name:"--z-pagination-background-color-hover",description:"background of the pagination's tabs on hover. The default is --color-surface01"}]}],exports:[{kind:"js",name:"ZPagination",declaration:{name:"ZPagination",module:"src/components/z-pagination/index.tsx"}},{kind:"custom-element-definition",name:"z-pagination",declaration:{name:"ZPagination",module:"src/components/z-pagination/index.tsx"}}]}]};A({...c()||{},...d,modules:[...(c()||{}).modules||[],...d.modules]});const at={title:"ZPagination",component:"z-pagination",argTypes:{totalPages:{control:{type:"number",min:1}},visiblePages:{control:{type:"number",min:1},if:{arg:"split",truthy:!1}},currentPage:{control:{type:"number",min:1}},skip:{control:{type:"number",min:1}},edges:{if:{arg:"split",truthy:!1}},split:{control:{type:"number",min:1}},"--z-pagination-background-color":p(),"--z-pagination-background-color-hover":p()},args:{label:"",navArrows:!0,totalPages:201,visiblePages:5,currentPage:1,goToPage:!1,split:void 0,skip:0,edges:!1,"--z-pagination-background-color":"var(--color-background)","--z-pagination-background-color-hover":"var(--color-surface01)"},render:t=>M`
    <z-pagination
      .label=${t.label}
      .navArrows=${t.navArrows}
      .totalPages=${t.totalPages}
      .visiblePages=${t.visiblePages}
      .skip=${t.skip}
      .currentPage=${t.currentPage}
      .goToPage=${t.goToPage}
      .edges=${t.edges}
      style=${$({"--z-pagination-background-color":t["--z-pagination-background-color"],"--z-pagination-background-color-hover":t["--z-pagination-background-color-hover"]})}
    ></z-pagination>
  `},r={parameters:{controls:{exclude:["split"]}}},s={args:{split:1},parameters:{controls:{exclude:["edges","visiblePages"]}}},l={args:{edges:!0},parameters:{controls:{exclude:["split"]}}},g={args:{skip:10}};var b,m,P;r.parameters={...r.parameters,docs:{...(b=r.parameters)==null?void 0:b.docs,source:{originalSource:`{
  parameters: {
    controls: {
      exclude: ["split"]
    }
  }
} satisfies Story`,...(P=(m=r.parameters)==null?void 0:m.docs)==null?void 0:P.source}}};var f,v,z,k,y;s.parameters={...s.parameters,docs:{...(f=s.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    split: 1
  },
  parameters: {
    controls: {
      exclude: ["edges", "visiblePages"]
    }
  }
} satisfies Story`,...(z=(v=s.parameters)==null?void 0:v.docs)==null?void 0:z.source},description:{story:"> Note that enabling `split` will shut off `visiblePages` and `edges`.",...(y=(k=s.parameters)==null?void 0:k.docs)==null?void 0:y.description}}};var w,x,C;l.parameters={...l.parameters,docs:{...(w=l.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    edges: true
  },
  parameters: {
    controls: {
      exclude: ["split"]
    }
  }
} satisfies Story`,...(C=(x=l.parameters)==null?void 0:x.docs)==null?void 0:C.source}}};var S,V,T;g.parameters={...g.parameters,docs:{...(S=g.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    skip: 10
  }
} satisfies Story`,...(T=(V=g.parameters)==null?void 0:V.docs)==null?void 0:T.source}}};const it=["VisiblePages","Split","Edges","Skip"];export{l as Edges,g as Skip,s as Split,r as VisiblePages,it as __namedExportsOrder,at as default};
