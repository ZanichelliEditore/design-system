import"./index-KOgRmbf5.js";import"./index-Cq1ipkkm.js";import{s as l,g as n}from"./chunk-L4EGOTBX-lo-pZyle.js";import"./entry-preview-Cx7Tr7Nx.js";import{d as r,H as d,c,h as o,a as p}from"./index-BZ0rSFNp.js";import{P as h}from"./index-BBy8evlc.js";const u=":host,*{box-sizing:border-box}.z-tool{--z-tool-size:calc(var(--space-unit) * 5.5);--z-tool-icon-size:calc(var(--space-unit) * 2.5);display:inline-flex;width:var(--z-tool-size);height:var(--z-tool-size);align-items:center;justify-content:center;padding:0;border:none;margin:0;background-color:var(--color-surface01);border-radius:var(--border-radius);cursor:pointer}:host([active]) .z-tool{box-shadow:inset 0 0 0 2px var(--color-primary01)}:host([open]) .z-tool{box-shadow:inset 0 0 0 2px var(--color-primary01)}@media (hover: hover){:host(:not([disabled])) .z-tool:hover{background-color:var(--color-primary03)}}:host([disabled]) .z-tool{color:var(--color-disabled01-icon);cursor:not-allowed}.z-tool:focus-visible{box-shadow:inset 0 0 0 2px var(--color-primary01);outline:none}z-icon{--z-icon-width:var(--z-tool-icon-size);--z-icon-height:var(--z-tool-icon-size);display:block;fill:var(--color-default-icon)}:host([disabled]) z-icon{fill:var(--color-disabled01-icon)}.z-tool-tooltip{--z-popover-padding:calc(var(--space-unit) * 1.5) calc(var(--space-unit) * 2);--z-popover-theme--surface:var(--color-surface05);--z-popover-theme--text:var(--color-text-inverse);--z-popover-shadow-filter:drop-shadow(0 4px 8px var(--shadow-color-base));z-index:2;font-family:var(--font-family-sans)}@media (max-width: 767px){.z-tool-tooltip{display:none !important}}:host{position:var(--z-tool-host-position, relative)}.z-tool-submenu{position:var(--z-tool-submenu-position, absolute);z-index:1;top:var(--z-tool-submenu-top, calc(100% + 4px));bottom:var(--z-tool-submenu-bottom, auto);left:var(--z-tool-submenu-left, 50%);display:none;transform:var(--z-tool-submenu-transform, translateX(-50%))}.z-tool-submenu-open{display:block}",m=class extends d{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.toggleSubmenu=c(this,"toggleSubmenu",7),this.tooltipPosition=h.TOP,this.active=!1,this.disabled=!1,this.open=!1,this.tooltipOpen=!1,this.hasSlottedContent=!1,this.isNested=!1,this.handleTooltipOpen=()=>{!this.tooltip||this.isNested||(clearTimeout(this.hoverDelay),this.hoverDelay=setTimeout(()=>{this.tooltipOpen=!0},1e3))},this.handleTooltipClose=()=>{this.tooltip&&(clearTimeout(this.hoverDelay),this.tooltipOpen=!1)},this.handleClick=()=>{this.disabled||this.hasSlottedContent&&(this.open=!this.open,this.open&&this.focusNestedToolbar())}}handleOpenChange(){this.toggleSubmenu.emit(this.open)}focusNestedToolbar(){requestAnimationFrame(()=>{var e;const t=this.hostElement.querySelector("z-toolbar");if(t){const i=t.querySelector("z-tool");if(i){const s=(e=i.shadowRoot)===null||e===void 0?void 0:e.querySelector("button");s&&s.focus()}}})}checkIfNested(){let e=this.hostElement.parentElement;for(;e;){if(e.tagName.toLowerCase()==="z-tool")return!0;e=e.parentElement}return!1}componentWillLoad(){this.hasSlottedContent=this.hostElement.children.length>0,this.isNested=this.checkIfNested()}disconnectedCallback(){clearTimeout(this.hoverDelay)}render(){return o(p,{key:"bf4e7bc4eb4fa0a450fdb5c0782b29466831125f",nested:this.isNested},o("button",{key:"6e13297745bd187f37f244d12100185d9783a1e0",class:"z-tool",type:"button","aria-pressed":this.active?"true":"false","aria-expanded":this.hasSlottedContent?this.open?"true":"false":void 0,"aria-label":this.htmlAriaLabel||this.tooltip||void 0,disabled:this.disabled,onClick:this.handleClick,onMouseEnter:this.handleTooltipOpen,onMouseLeave:this.handleTooltipClose,onFocus:this.handleTooltipOpen,onBlur:this.handleTooltipClose},o("z-icon",{key:"411dce17ce7287530d93d496dc44eece9f514553",ref:e=>this.iconRef=e,name:this.icon})),this.tooltip&&!this.isNested&&o("z-popover",{key:"d03668d3dc6fa85a459272541b6520aa218dfc7c",class:"z-tool-tooltip",bindTo:this.iconRef,open:this.tooltipOpen,position:this.tooltipPosition,showArrow:!0,center:!0,closable:!1},o("span",{key:"dfee37c95b938fea9c0daaef2e3de472b5803c0b",class:"body-4"},this.tooltip)),this.hasSlottedContent&&o("div",{key:"89fcdb1ef35f5a9acfd042570162efdba9aa90f3",class:{"z-tool-submenu":!0,"z-tool-submenu-open":this.open}},o("slot",{key:"90524e3591106d9010e5d84e61c4aa0c40a3b191"})))}get hostElement(){return this}static get watchers(){return{open:["handleOpenChange"]}}static get style(){return u}};r(m,[1,"z-tool",{icon:[1],tooltip:[1],tooltipPosition:[8,"tooltip-position"],htmlAriaLabel:[1,"html-aria-label"],active:[516],disabled:[516],open:[1540],tooltipOpen:[32],hasSlottedContent:[32],isNested:[32]},void 0,{open:["handleOpenChange"]}]);const a={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"ZTool",tagName:"z-tool",customElement:!0,members:[{kind:"field",name:"icon",type:"string",description:"Tool icon"},{kind:"field",name:"tooltip",type:"string",description:"Text displayed inside the tooltip."},{kind:"field",name:"tooltipPosition",type:"any",description:"Preferred tooltip position. Defaults to true.",default:"PopoverPosition.TOP"},{kind:"field",name:"htmlAriaLabel",type:"string",description:"Accessible label for the tool trigger. Falls back to tooltip content."},{kind:"field",name:"active",type:"boolean",description:"Visual selected state.",default:"false"},{kind:"field",name:"disabled",type:"boolean",description:"Disabled state.",default:"false"},{kind:"field",name:"open",type:"boolean",description:"Open state.",default:"false"}],events:[{kind:"event",name:"toggleSubmenu",description:"Emitted when the open state changes."}],slots:[{name:"-",description:"Optional slot for nested content (e.g., a secondary z-toolbar) that appears when the tool is open/clicked."}]}],exports:[{kind:"js",name:"ZTool",declaration:{name:"ZTool",module:"src/components/z-tool/index.tsx"}},{kind:"custom-element-definition",name:"z-tool",declaration:{name:"ZTool",module:"src/components/z-tool/index.tsx"}}]}]};l({...n()||{},...a,modules:[...(n()||{}).modules||[],...a.modules]});
