import{x as T}from"./lit-element-DGXdXVoE.js";import"./index-Dh3Z8UQP.js";import"./index-CTsgGO8h.js";import"./index-CCYqW-Bq.js";import{s as L,g as p}from"./chunk-L4EGOTBX-lo-pZyle.js";import"./entry-preview-Cx7Tr7Nx.js";import{d as A,H as E,c as S,h as r,a as R}from"./index-BZ0rSFNp.js";import{K as n}from"./index-BBy8evlc.js";import"./index-CMdrQeyy.js";import"./index-DrFu-skq.js";const _=':host{font-family:var(--font-family-sans)}z-list-element{position:relative;display:block;padding-top:var(--space-unit)}z-list-element::before,z-list-element::after{position:absolute;z-index:100;top:0.125rem;left:-0.5rem;content:""}z-list z-list-element::before{width:var(--space-unit);height:calc(var(--space-unit) * 2);border-bottom:var(--border-size-small) solid var(--color-disabled01-icon);border-left:var(--border-size-small) solid var(--color-disabled01-icon)}z-list z-list-element::after{width:var(--space-unit);height:100%;border-left:var(--border-size-small) solid var(--color-disabled01-icon)}z-list z-list-element:last-child::after,z-list>z-list-element::before,z-list>z-list-element::after,z-list>z-list-group>z-list-element::before,z-list>z-list-group>z-list-element::after{display:none}z-list>div.children-node{padding-left:calc(var(--space-unit) * 2)}z-list-element>.list-element{z-index:100;display:flex;justify-content:space-between;padding:0;color:var(--color-default-text);font-size:var(--font-size-2);font-style:normal;font-weight:var(--font-rg);text-decoration:none}z-list-element>.list-element.link-clickable{color:var(--color-primary01)}z-list-element>.list-element.link-clickable:hover{text-decoration:underline}z-list-element>.list-element .item.ellipsis{overflow:hidden}z-list-element .list-element::after{position:absolute;top:0;right:-0.0625rem;display:block;width:100%;height:calc(var(--space-unit) * 5);content:"";transform:translateX(-100%)}.item-label{overflow:hidden;flex-grow:1;font-size:var(--font-size-2);font-style:normal;font-weight:var(--font-rg);letter-spacing:0.0032rem;line-height:1.25rem;text-overflow:ellipsis;white-space:nowrap}.item-label.bold-item{font-weight:var(--font-sb)}.item.ellipsis{display:flex;overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap}.children-node>z-list-element{padding:0;padding-top:0.125;padding-left:calc(var(--space-unit) * 1.25)}.item-icon{margin-right:var(--space-unit)}.no-icon-label{padding-left:var(--space-unit)}.children-node>z-list-element.no-icon-elm{padding-left:0}z-list-element>.list-element:focus:focus-visible{position:relative;z-index:200;box-shadow:var(--shadow-focus-primary);outline:none}@media (max-width: 767px){z-list-element::before,z-list-element::after{top:0.1875rem}z-list z-list-element::before{height:calc(var(--space-unit) * 2.5)}.children-node>z-list-element{padding-top:var(--space-unit)}}',O=class extends E{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.treeItemClicked=S(this,"treeItemClicked",7),this.items=[],this.parsedItems=[]}watchItems(){this.parsedItems=typeof this.items=="string"?JSON.parse(this.items):this.items}componentWillLoad(){this.watchItems()}handleClick(e){this.treeItemClicked.emit({id:e.id,name:e.name,url:e.url})}getFocusableElements(){return Array.from(this.host.shadowRoot.querySelectorAll('a[tabindex="0"]'))}getAncestor(e,l){let i=e;for(let t=0;t<l;t++)if(i=i==null?void 0:i.parentElement,!i)return;return i}handleArrowNav(e){if(e.code===n.TAB){e.preventDefault();return}const l=this.getFocusableElements(),i=l.indexOf(e.target);if(i!==-1){if(e.code===n.ARROW_DOWN||e.code===n.ARROW_UP){e.preventDefault();const t=i+(e.code===n.ARROW_DOWN?1:-1);if(t<0||t>=l.length)return;l[t].focus()}if(e.code===n.ARROW_LEFT){e.preventDefault();const t=this.getAncestor(l[i],4);if(!t||!t.children[0]||t.children[0].tagName.toLowerCase()!=="a"&&t.getAttribute("tabindex")===null)return;t.children[0].focus()}if(e.code===n.ARROW_RIGHT){e.preventDefault();const t=e.target.closest("z-list-element");if(!t)return;const s=t.querySelector("z-list");if(!s)return;const m=s.querySelector('a[tabindex="0"]');if(!m)return;m.focus()}}}renderTreeList(e,l,i=1){var t,s;return this.htmlTag=e.url?"a":"span",r("z-list-element",{id:l,class:e.icon?"":"no-icon-elm",clickable:!!e.url,hasTreeItems:!0,role:"none","aria-hidden":void 0},r(this.htmlTag,{class:{"list-element":!0,"z-link":!!e.url,"link-clickable":!!e.url},tabIndex:e.url?0:-1,onClick:()=>this.handleClick(e),onKeyUp:o=>{(o.code===n.ENTER||o.code===n.SPACE)&&this.handleClick(e)},onKeyDown:o=>this.handleArrowNav(o),role:e.url?"treeitem":void 0,"aria-hidden":e.url?void 0:"true","aria-expanded":((t=e.children)===null||t===void 0?void 0:t.length)>0&&!0,"aria-level":i,"aria-label":e.name,href:e.url},r("span",{class:"item ellipsis"},e.icon&&r("z-icon",{width:16,height:16,fill:e.url?"color-primary01":"color-default-icon",class:"item-icon",name:e.icon}),r("span",{class:{"item-label":!0,"no-icon-label":!e.icon,"bold-item":e.bold},title:e.name},e.name))),((s=e.children)===null||s===void 0?void 0:s.length)>0&&r("z-list",{role:"group"},r("div",{class:"children-node"},e.children.map((o,I)=>this.renderTreeList(o,`${I}`,i+1)))))}render(){const e=this.parsedItems.some(l=>!!l.url);return r(R,{key:"19fd307c8efdb665cfb02f82cdad01e0dfa2ed83",class:"tree-list",role:e?"navigation":"none","aria-hidden":e?void 0:"true","aria-labelledby":this.htmlAriaLabelledby},r("div",{key:"6197ebbbfe13ac1ada3303449d8f33f2f1117eac",tabIndex:-1,role:e?"tree":"none","aria-hidden":e?void 0:"true","aria-label":this.htmlSectionTitle},this.parsedItems.map((l,i)=>this.renderTreeList(l,`${i}`))))}get host(){return this}static get watchers(){return{items:["watchItems"]}}static get style(){return _}};A(O,[1,"z-tree-list",{items:[1],htmlAriaLabelledby:[513,"html-aria-labelledby"],htmlSectionTitle:[513,"html-section-title"]},void 0,{items:["watchItems"]}]);const u={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"ZTreeList",tagName:"z-tree-list",customElement:!0,members:[{kind:"field",name:"items",type:"string",description:"Items to render, if they have the url property they will be rendered as clickable links",default:"[]"},{kind:"field",name:"htmlAriaLabelledby",type:"string",description:'Used for aria-labelledby attribute, sets name in "navigation"'},{kind:"field",name:"htmlSectionTitle",type:"string",description:'Used for aria-label attribute, sets name in "tree"'}],events:[{kind:"event",name:"treeItemClicked",description:"Emitted on item click, it return the id, name and url of the clicked item"}]}],exports:[{kind:"js",name:"ZTreeList",declaration:{name:"ZTreeList",module:"src/components/list/z-tree-list/index.tsx"}},{kind:"custom-element-definition",name:"z-tree-list",declaration:{name:"ZTreeList",module:"src/components/list/z-tree-list/index.tsx"}}]}]};L({...p()||{},...u,modules:[...(p()||{}).modules||[],...u.modules]});const C=[{name:"Parent 1",icon:"folder",children:[{name:"Child 1.1",icon:"book"},{name:"Child 1.2",icon:"book"}]},{name:"Parent 2",icon:"folder",children:[{name:"Child 2.1",icon:"book"}]}],N=[{name:"Parent 1",icon:"folder",url:"#",children:[{name:"Child 1.1",icon:"book",url:"#"},{name:"Child 1.2",icon:"book",url:"#"}]},{name:"Parent 2",icon:"folder",url:"#",children:[{name:"Child 2.1",icon:"book",url:"#"}]}],B=[{name:"Parent 1",icon:"folder",bold:!0,children:[{name:"Child 1.1",icon:"book"},{name:"Child 1.2",icon:"book"}]},{name:"Parent 2",icon:"folder",bold:!0,children:[{name:"Child 2.1",icon:"book"}]}],M={title:"ZList/ZTreeList",component:"z-tree-list",argTypes:{items:{control:"object"}},args:{items:C}},h=e=>T`<z-tree-list items=${JSON.stringify(e.items)}></z-tree-list>`,a={args:{items:C},render:h},d={args:{items:B},render:h},c={args:{items:N},render:h};var f,b,g;a.parameters={...a.parameters,docs:{...(f=a.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    items: sampleItems
  },
  render: Template
}`,...(g=(b=a.parameters)==null?void 0:b.docs)==null?void 0:g.source}}};var z,v,k;d.parameters={...d.parameters,docs:{...(z=d.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    items: boldItems
  },
  render: Template
}`,...(k=(v=d.parameters)==null?void 0:v.docs)==null?void 0:k.source}}};var y,w,x;c.parameters={...c.parameters,docs:{...(y=c.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    items: clickableItems
  },
  render: Template
}`,...(x=(w=c.parameters)==null?void 0:w.docs)==null?void 0:x.source}}};const $=["Base","Bold","Clickable"];export{a as Base,d as Bold,c as Clickable,$ as __namedExportsOrder,M as default};
