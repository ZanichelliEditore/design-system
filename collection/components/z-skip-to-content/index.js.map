{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/components/z-skip-to-content/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, Element, Host, Listen, Prop, State, h} from \"@stencil/core\";\nimport {SkipToContentLink, ThemeVariant} from \"../../beans\";\nimport {getElementTree, handleKeyboardSubmit} from \"../../utils/utils\";\n\n/**\n * Component short description.\n */\n@Component({\n  tag: \"z-skip-to-content\",\n  styleUrl: \"styles.css\",\n  shadow: false,\n  scoped: true,\n})\nexport class ZSkipToContent {\n  /** Graphical variant: `dark`, `light`. */\n  @Prop({reflect: true})\n  variant?: ThemeVariant;\n\n  /** Array to fill link into skip-content */\n  @Prop({mutable: true})\n  links: string | SkipToContentLink[] = [];\n\n  @State()\n  visible = false;\n\n  @State()\n  visibleLink = \"\";\n\n  @Element() hostElement: HTMLZSkipToContentElement;\n\n  @Listen(\"focusout\", {target: \"document\"})\n  handleFocusOutSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = false;\n    }\n  }\n\n  @Listen(\"focusin\", {target: \"document\"})\n  handleFocusSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = true;\n    }\n  }\n\n  componentDidLoad(): void {\n    this.showFirstChild();\n  }\n\n  componentWillRender(): void {\n    if (this.links) {\n      this.links = typeof this.links === \"string\" ? JSON.parse(this.links) : this.links;\n    }\n  }\n\n  private isInSkipToContent(elem): boolean {\n    const tree = getElementTree(elem);\n    const menuParent = tree.find((elem: Element) => elem.nodeName.toLowerCase() === \"z-skip-to-content\");\n\n    return !!menuParent;\n  }\n\n  private showFirstChild(): void {\n    const firstChild = this.hostElement.children?.[0];\n    if (firstChild) {\n      this.visibleLink = firstChild.id;\n    }\n  }\n\n  private handleLinkClick(): void {\n    this.visible = false;\n  }\n\n  render(): HTMLZSkipToContentElement {\n    return (\n      <Host\n        class={{\n          [this.variant]: true,\n          \"skip-to-content-visible\": this.visible,\n        }}\n      >\n        {(this.links as SkipToContentLink[]).map((link, i) => {\n          const id = `skip-to-content-${i}`;\n\n          return (\n            <div class=\"link-container\">\n              <a\n                id={id}\n                class={{\n                  \"body-1-sb\": true,\n                  \"z-link\": true,\n                  \"z-link-underline\": true,\n                  \"z-link-white\": this.variant === ThemeVariant.DARK,\n                  \"z-link-black\": this.variant !== ThemeVariant.DARK,\n                  \"link-visible\": id == this.visibleLink,\n                  \"link-invisible\": id != this.visibleLink,\n                }}\n                aria-label={link.ariaLabel || link.label}\n                href={link.href}\n                onFocus={() => (this.visibleLink = id)}\n                onClick={() => this.handleLinkClick()}\n                onKeyUp={(e) => handleKeyboardSubmit(e, this.handleLinkClick.bind(this))}\n              >\n                {link.label}\n              </a>\n            </div>\n          );\n        })}\n      </Host>\n    );\n  }\n}\n"]}