{"version":3,"file":"test.e2e.js","sourceRoot":"","sources":["../../../../../src/components/file-upload/z-file-upload/test.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import {newE2EPage} from \"@stencil/core/testing\";\n\ndescribe(\"z-file-upload test end2end\", () => {\n  it(\"Test z-file-upload -> add z-file by click\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`\n    <z-file-upload type=\"default\"\n      button-variant=\"primary\"\n      main-title=\"Allega un file\"\n      description=\"Vuoi allegare un file per chiarire meglio la tua richiesta?\"\n      accepted-format= \".pdf, .doc, .tiff, .png, .jpg, .jpeg\"\n      file-max-size=\"50\">\n    </z-file-upload>\n  `);\n    const zfu = await page.find(\"z-file-upload\");\n\n    await zfu.setProperty(\"acceptedFormat\", \".md\");\n    await page.waitForChanges();\n\n    // simulate upload of file\n    const button = await page.find(\"z-file-upload >>> div z-button >>> button\");\n    button.click();\n    const fileChooser = await page.waitForFileChooser();\n\n    const fileInputEvent = await zfu.spyOnEvent(\"fileInput\");\n\n    await fileChooser.accept([\"./readme.md\"]);\n    await page.waitForChanges();\n\n    expect(fileInputEvent).toHaveReceivedEvent();\n  });\n\n  it(\"Test z-file-upload -> add z-file by click ERROR: wrong file type\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`\n    <z-file-upload type=\"default\"\n      button-variant=\"primary\"\n      main-title=\"Allega un file\"\n      description=\"Vuoi allegare un file per chiarire meglio la tua richiesta?\"\n      accepted-format= \".pdf, .doc, .tiff, .png, .jpg, .jpeg\"\n      file-max-size=\"50\">\n    </z-file-upload>\n  `);\n    const zfu = await page.find(\"z-file-upload\");\n\n    // simulate upload of file\n    const button = await page.find(\"z-file-upload >>> div z-button >>> button\");\n    button.click();\n    const fileChooser = await page.waitForFileChooser();\n\n    const fileInputEvent = await zfu.spyOnEvent(\"fileInput\");\n\n    await fileChooser.accept([\"./readme.md\"]);\n    await page.waitForChanges();\n\n    expect(fileInputEvent).not.toHaveReceivedEvent();\n\n    const errorModal = await page.find(\"z-file-upload >>> z-modal\");\n    expect(errorModal).not.toBeNull();\n  });\n\n  it(\"Test z-file-upload -> remove z-file\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`\n    <z-file-upload type=\"default\"\n      button-variant=\"primary\"\n      main-title=\"Allega un file\"\n      description=\"Vuoi allegare un file per chiarire meglio la tua richiesta?\"\n      accepted-format= \".pdf, .doc, .tiff, .png, .jpg, .jpeg\"\n      file-max-size=\"50\">\n        <z-file slot=\"files\" class=\"hydrated\">Spike - Condivisione pagine Kitaboo-OK.pdf</z-file>\n    </z-file-upload>\n    `);\n\n    const zf = await page.find(\"z-file-upload z-file\");\n\n    expect(zf).not.toBeNull();\n\n    page.evaluate(() => (document.querySelector(\"z-file-upload z-file z-chip z-icon\") as HTMLElement).click());\n    await page.waitForChanges();\n    const zfCheck = await page.find(\"z-file-upload z-file\");\n\n    expect(zfCheck).toBeNull();\n  });\n});\n"]}