{"version":3,"names":["stylesCss","ZSkipToContentStyle0","ZSkipToContent","exports","class_1","prototype","handleFocusOutSkipToContent","e","this","isInSkipToContent","target","visible","handleFocusSkipToContent","componentDidLoad","showFirstChild","componentWillRender","links","JSON","parse","elem","tree","getElementTree","menuParent","find","nodeName","toLowerCase","firstChild","_a","hostElement","children","visibleLink","id","handleLinkClick","render","_this","h","Host","key","class","_b","variant","map","link","i","concat","ThemeVariant","DARK","ariaLabel","label","href","onFocus","onClick","onKeyUp","handleKeyboardSubmit","bind"],"sources":["src/components/z-skip-to-content/styles.css?tag=z-skip-to-content&encapsulation=scoped","src/components/z-skip-to-content/index.tsx"],"sourcesContent":[":host {\n  position: absolute;\n  left: -100%;\n  height: 60px;\n  box-sizing: border-box;\n  padding: calc(var(--space-unit) * 1.25) calc(var(--space-unit) * 3);\n  background-color: #24f4ff;\n  font-family: var(--font-family-sans);\n  font-weight: var(--font-rg);\n  text-align: center;\n}\n\n:host > .link-container {\n  display: inline-flex;\n  height: 100%;\n  align-items: center;\n}\n\n:host.skip-to-content-visible,\n:host:focus {\n  position: static;\n  display: block;\n}\n\n:host > .link-container > a.z-link.link-invisible {\n  overflow: hidden;\n  width: 0;\n  height: 0;\n}\n\n:host > .link-container > a.z-link.link-visible {\n  width: initial;\n  height: initial;\n}\n\n:host.dark {\n  background-color: var(--color-surface05);\n  color: var(--color-surface01);\n}\n\n:host.light {\n  border: var(--border-size-medium) solid var(--color-surface05);\n  background-color: var(--color-surface01);\n  color: var(--color-default-text);\n}\n\n/* Tablet breakpoint */\n@media (min-width: 768px) {\n  :host {\n    text-align: start;\n  }\n}\n\n/* Desktop breakpoint */\n@media (min-width: 1152px) {\n  :host > .link-container {\n    padding: 0 calc(var(--space-unit) * 3);\n    border-right: var(--border-size-small) solid var(--color-surface05);\n  }\n\n  :host > .link-container > a.z-link.link-invisible {\n    overflow: initial;\n    width: initial;\n    height: initial;\n  }\n\n  :host > .link-container:first-child {\n    padding-left: 0;\n  }\n\n  :host > .link-container:last-child,\n  :host.dark > .link-container:last-child,\n  :host.light > .link-container:last-child {\n    padding-right: 0;\n    border-right: none;\n  }\n\n  :host.dark > .link-container {\n    border-right: var(--border-size-small) solid var(--color-surface01);\n  }\n}\n","import {Component, Element, Host, Listen, Prop, State, h} from \"@stencil/core\";\nimport {SkipToContentLink, ThemeVariant} from \"../../beans\";\nimport {getElementTree, handleKeyboardSubmit} from \"../../utils/utils\";\n\n/**\n * Component short description.\n */\n@Component({\n  tag: \"z-skip-to-content\",\n  styleUrl: \"styles.css\",\n  shadow: false,\n  scoped: true,\n})\nexport class ZSkipToContent {\n  /** Graphical variant: `dark`, `light`. */\n  @Prop({reflect: true})\n  variant?: ThemeVariant;\n\n  /** Array to fill link into skip-content */\n  @Prop({mutable: true})\n  links: string | SkipToContentLink[] = [];\n\n  @State()\n  visible = false;\n\n  @State()\n  visibleLink = \"\";\n\n  @Element() hostElement: HTMLZSkipToContentElement;\n\n  @Listen(\"focusout\", {target: \"document\"})\n  handleFocusOutSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = false;\n    }\n  }\n\n  @Listen(\"focusin\", {target: \"document\"})\n  handleFocusSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = true;\n    }\n  }\n\n  componentDidLoad(): void {\n    this.showFirstChild();\n  }\n\n  componentWillRender(): void {\n    if (this.links) {\n      this.links = typeof this.links === \"string\" ? JSON.parse(this.links) : this.links;\n    }\n  }\n\n  private isInSkipToContent(elem): boolean {\n    const tree = getElementTree(elem);\n    const menuParent = tree.find((elem: Element) => elem.nodeName.toLowerCase() === \"z-skip-to-content\");\n\n    return !!menuParent;\n  }\n\n  private showFirstChild(): void {\n    const firstChild = this.hostElement.children?.[0];\n    if (firstChild) {\n      this.visibleLink = firstChild.id;\n    }\n  }\n\n  private handleLinkClick(): void {\n    this.visible = false;\n  }\n\n  render(): HTMLZSkipToContentElement {\n    return (\n      <Host\n        class={{\n          [this.variant]: true,\n          \"skip-to-content-visible\": this.visible,\n        }}\n      >\n        {(this.links as SkipToContentLink[]).map((link, i) => {\n          const id = `skip-to-content-${i}`;\n\n          return (\n            <div class=\"link-container\">\n              <a\n                id={id}\n                class={{\n                  \"body-1-sb\": true,\n                  \"z-link\": true,\n                  \"z-link-underline\": true,\n                  \"z-link-white\": this.variant === ThemeVariant.DARK,\n                  \"z-link-black\": this.variant !== ThemeVariant.DARK,\n                  \"link-visible\": id == this.visibleLink,\n                  \"link-invisible\": id != this.visibleLink,\n                }}\n                aria-label={link.ariaLabel || link.label}\n                href={link.href}\n                onFocus={() => (this.visibleLink = id)}\n                onClick={() => this.handleLinkClick()}\n                onKeyUp={(e) => handleKeyboardSubmit(e, this.handleLinkClick.bind(this))}\n              >\n                {link.label}\n              </a>\n            </div>\n          );\n        })}\n      </Host>\n    );\n  }\n}\n"],"mappings":"oSAAA,IAAMA,EAAY,w8DAClB,IAAAC,EAAeD,E,ICYFE,EAAcC,EAAA,+B,0DAOa,G,aAG5B,M,iBAGI,E,CAKdC,EAAAC,UAAAC,4BAAA,SAA4BC,GAC1B,GAAIC,KAAKC,kBAAkBF,EAAEG,QAAS,CACpCF,KAAKG,QAAU,K,GAKnBP,EAAAC,UAAAO,yBAAA,SAAyBL,GACvB,GAAIC,KAAKC,kBAAkBF,EAAEG,QAAS,CACpCF,KAAKG,QAAU,I,GAInBP,EAAAC,UAAAQ,iBAAA,WACEL,KAAKM,gB,EAGPV,EAAAC,UAAAU,oBAAA,WACE,GAAIP,KAAKQ,MAAO,CACdR,KAAKQ,aAAeR,KAAKQ,QAAU,SAAWC,KAAKC,MAAMV,KAAKQ,OAASR,KAAKQ,K,GAIxEZ,EAAAC,UAAAI,kBAAA,SAAkBU,GACxB,IAAMC,EAAOC,EAAeF,GAC5B,IAAMG,EAAaF,EAAKG,MAAK,SAACJ,GAAkB,OAAAA,EAAKK,SAASC,gBAAkB,mBAAhC,IAEhD,QAASH,C,EAGHlB,EAAAC,UAAAS,eAAA,W,MACN,IAAMY,GAAaC,EAAAnB,KAAKoB,YAAYC,YAAQ,MAAAF,SAAA,SAAAA,EAAG,GAC/C,GAAID,EAAY,CACdlB,KAAKsB,YAAcJ,EAAWK,E,GAI1B3B,EAAAC,UAAA2B,gBAAA,WACNxB,KAAKG,QAAU,K,EAGjBP,EAAAC,UAAA4B,OAAA,W,MAAA,IAAAC,EAAA1B,KACE,OACE2B,EAACC,EAAI,CAAAC,IAAA,2CACHC,OAAKC,EAAA,GACHA,EAAC/B,KAAKgC,SAAU,KAChBD,EAAA,2BAA2B/B,KAAKG,Q,IAGhCH,KAAKQ,MAA8ByB,KAAI,SAACC,EAAMC,GAC9C,IAAMZ,EAAK,mBAAAa,OAAmBD,GAE9B,OACER,EAAA,OAAKG,MAAM,kBACTH,EAAA,KACEJ,GAAIA,EACJO,MAAO,CACL,YAAa,KACb,SAAU,KACV,mBAAoB,KACpB,eAAgBJ,EAAKM,UAAYK,EAAaC,KAC9C,eAAgBZ,EAAKM,UAAYK,EAAaC,KAC9C,eAAgBf,GAAMG,EAAKJ,YAC3B,iBAAkBC,GAAMG,EAAKJ,aAC9B,aACWY,EAAKK,WAAaL,EAAKM,MACnCC,KAAMP,EAAKO,KACXC,QAAS,kBAAOhB,EAAKJ,YAAcC,CAA1B,EACToB,QAAS,WAAM,OAAAjB,EAAKF,iBAAL,EACfoB,QAAS,SAAC7C,GAAM,OAAA8C,EAAqB9C,EAAG2B,EAAKF,gBAAgBsB,KAAKpB,GAAlD,GAEfQ,EAAKM,O,oIAzFK,I","ignoreList":[]}