import{r as t,c as s,h as i,H as a,g as o}from"./p-98268a57.js";import{c as e}from"./p-286363e2.js";import{l as r,S as n,B as l,c as p,P as c}from"./p-41f12eeb.js";import{a as d}from"./p-ed78bb9b.js";import"./p-112455b1.js";import"./p-d69e14fb.js";const h=class{constructor(i){t(this,i),this.sort=s(this,"sort",7),this.padding=r.medium,this.defaultSortDirection=n.asc,this.sortDirection=n.none,this.emitOnSort=this.emitOnSort.bind(this)}emitOnSort(){this.sort.emit({columnId:this.columnId,sortDirection:this.sortDirection})}handleSort(){this.sortable&&(this.sortDirection=(()=>{switch(this.sortDirection){case n.asc:return n.desc;case n.desc:return n.asc;case n.none:return this.defaultSortDirection;default:return n.none}})(),this.emitOnSort())}handleMenuClick(){this.popover.open=!this.popover.open}handleOutsideClick(t){!d(t.target).find((t=>"z-popover"===t.nodeName.toLowerCase()))&&this.popover&&(this.popover.open=!1)}handleClickHeaders(t){const{target:s}=t,i=d(s).find((t=>"z-table-header"===t.nodeName.toLowerCase()));this.sortable&&i&&i.attributes.getNamedItem("column-id").value!==this.columnId&&(s.parentNode.sortable||s.sortable)&&(this.sortDirection=n.none)}componentWillRender(){this.host.setAttribute("role","columnheader")}render(){return i(a,{class:e({sortable:this.sortable}),onClick:()=>this.handleSort()},i("div",{class:"container"},i("slot",null),this.sortable&&this.sortDirection!==n.none&&i("z-icon",{name:this.sortDirection===n.asc?"arrow-up":"arrow-down",class:"arrow"})),this.showButton&&i("div",{class:"popover-container"},i("z-button",{ref:t=>this.triggerButton=t,class:"contextual-popover-button",icon:"contextual-menu",variant:l.tertiary,size:p["x-small"],onClick:()=>this.handleMenuClick()}),i("z-popover",{ref:t=>this.popover=t,position:c.bottom,center:!0,bindTo:this.triggerButton},i("div",null,i("slot",{name:"contextual-menu"})))))}get host(){return o(this)}};h.style=':host{position:relative;display:table-cell;background-color:var(--gray50);border-bottom:var(--border-size-medium) solid var(--gray200);font-family:var(--dashboard-font);font-weight:var(--font-sb);text-align:start}.container{display:flex;align-items:flex-end}:host(.sortable){cursor:pointer}:host([padding="x-small"]){padding:calc(var(--space-unit) * 0.5)}:host([padding="small"]){padding:calc(var(--space-unit))}:host([padding="medium"]){padding:calc(var(--space-unit) * 2)}:host([padding="large"]){padding:calc(var(--space-unit) * 2.5)}:host([padding="special"]){padding:0}.arrow{opacity:1;padding-left:var(--space-unit)}.popover-container{position:absolute;top:var(--space-unit);right:var(--space-unit);display:none}.popover-container z-popover{--z-popover-theme--surface:var(--gray200);position:relative;z-index:1}.popover-container.visible{display:block}:host(:hover) .popover-container{display:block}';export{h as z_table_header}