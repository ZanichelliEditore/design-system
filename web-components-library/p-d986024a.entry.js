import{r as t,c as i,h as s,H as a,g as e}from"./p-d17ebc2f.js";import{i as o,S as r,B as n,c,P as l}from"./p-e1ac5c4e.js";import{d as p}from"./p-1c6b0e09.js";import"./p-d69e14fb.js";const d=class{constructor(s){t(this,s),this.sort=i(this,"sort",7),this.padding=o.MEDIUM,this.defaultSortDirection=r.ASC,this.sortDirection=r.NONE,this.emitOnSort=this.emitOnSort.bind(this)}emitOnSort(){this.sort.emit({columnId:this.columnId,sortDirection:this.sortDirection})}handleSort(){this.sortable&&(this.sortDirection=(()=>{switch(this.sortDirection){case r.ASC:return r.DESC;case r.DESC:return r.ASC;case r.NONE:return this.defaultSortDirection;default:return r.NONE}})(),this.emitOnSort())}handleMenuClick(){this.popover.open=!this.popover.open}handleOutsideClick(t){!p(t.target).find((t=>"z-popover"===t.nodeName.toLowerCase()))&&this.popover&&(this.popover.open=!1)}handleClickHeaders(t){const i=t.target,s=p(i).find((t=>"z-table-header"===t.nodeName.toLowerCase()));this.sortable&&s&&s.attributes.getNamedItem("column-id").value!==this.columnId&&(i.parentNode.sortable||i.sortable)&&(this.sortDirection=r.NONE)}componentWillRender(){this.host.setAttribute("role","columnheader")}render(){return s(a,{class:{sortable:this.sortable},onClick:()=>this.handleSort()},s("div",{class:"container"},s("slot",null),this.sortable&&this.sortDirection!==r.NONE&&s("z-icon",{name:this.sortDirection===r.ASC?"arrow-up":"arrow-down",class:"arrow"})),this.showButton&&s("div",{class:"popover-container"},s("z-button",{ref:t=>this.triggerButton=t,class:"contextual-popover-button",icon:"contextual-menu",variant:n.TERTIARY,size:c.X_SMALL,onClick:()=>this.handleMenuClick()}),s("z-popover",{ref:t=>this.popover=t,position:l.BOTTOM,center:!0,bindTo:this.triggerButton},s("div",null,s("slot",{name:"contextual-menu"})))))}get host(){return e(this)}};d.style=':host{position:relative;display:table-cell;border-bottom:var(--border-size-medium) solid var(--gray200);background-color:var(--gray50);font-family:var(--dashboard-font);font-weight:var(--font-sb);text-align:start}.container{display:flex;align-items:flex-end}:host(.sortable){cursor:pointer}:host([padding="x-small"]){padding:calc(var(--space-unit) * 0.5)}:host([padding="small"]){padding:calc(var(--space-unit))}:host([padding="medium"]){padding:calc(var(--space-unit) * 2)}:host([padding="large"]){padding:calc(var(--space-unit) * 2.5)}:host([padding="special"]){padding:0}.arrow{padding-left:var(--space-unit);opacity:1}.popover-container{position:absolute;top:var(--space-unit);right:var(--space-unit);display:none}.popover-container z-popover{--z-popover-theme--surface:var(--gray200);position:relative;z-index:1}.popover-container.visible{display:block}:host(:hover) .popover-container{display:block}';export{d as z_table_header}