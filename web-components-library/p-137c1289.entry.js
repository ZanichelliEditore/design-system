import{r as i,c as t,h as r,H as o}from"./p-d17ebc2f.js";import{m as e}from"./p-d69e14fb.js";const n=class{constructor(r){i(this,r),this.userButtonClick=t(this,"userButtonClick",7),this.dropdownMenuLinkClick=t(this,"dropdownMenuLinkClick",7),this.useInverseColors=!1,this.isMenuOpen=!1,this.handleLoggedButtonClick=this.handleLoggedButtonClick.bind(this),this.emitDropdownMenuLinkClick=this.emitDropdownMenuLinkClick.bind(this)}componentDidLoad(){this.setMobileAndDivToResizeWidth()}componentWillUpdate(){this.setMobileAndDivToResizeWidth()}componentWillRender(){this.menuContent&&(this.linkArray="string"==typeof this.menuContent?JSON.parse(this.menuContent):this.menuContent)}setMobileAndDivToResizeWidth(){var i;this.divToResize&&(this.isMobile=window.screen.width<=e||window.innerWidth<=e,this.logged&&!this.isMobile&&this.isMenuOpen?this.divToResize.style.width=`${null===(i=this.userButton)||void 0===i?void 0:i.offsetWidth}px`:this.divToResize.removeAttribute("style"))}emitUserButtonClick(){this.userButtonClick.emit(this.isMenuOpen)}emitDropdownMenuLinkClick(i){this.isMenuOpen=!1,this.dropdownMenuLinkClick.emit({e:i,linkId:i.detail.linkId})}handleResize(){this.isMobile=window.innerWidth<=e}handleOrientationChange(){this.isMobile=screen.width<=e}handleClickOutside(i){"Z-USER-DROPDOWN"!==i.target.nodeName&&(this.isMenuOpen=!1)}handleLoggedButtonClick(){this.isMenuOpen=!this.isMenuOpen,this.emitUserButtonClick()}renderGuestButton(){return r("button",{id:"guestbutton",class:this.useInverseColors?"inverse":"",onClick:()=>this.emitUserButtonClick()},"ENTRA")}renderLoggedButton(){const i=this.isMenuOpen?"up":"down",t=this.useInverseColors?"inverse":"";return r("button",{ref:i=>this.userButton=i,title:this.userFullName,class:`${t} ${this.isMenuOpen?"open":""}`,onClick:this.handleLoggedButtonClick},r("div",null,r("div",{class:"firstline"},r("z-icon",{class:t,name:"user-avatar-filled",height:16,width:16}),!this.isMobile&&r("div",{class:`userfullname ${t}`},this.userFullName),r("z-icon",{class:t,name:`caret-${i}-filled`,height:16,width:16})),!this.isMobile&&this.isMenuOpen&&r("div",{class:`useremail ${t}`},this.userEmail)))}getZLinkTextcolor(){return this.isMobile?this.useInverseColors?"black":"white":this.useInverseColors?"white":"black"}renderDropdownMenu(){const i=this.useInverseColors?"inverse":"";return this.isMenuOpen&&r("ul",{class:i},this.isMobile&&r("li",{class:i},r("div",{class:`userfullname ${i}`},this.userFullName),r("div",{class:`useremail ${i}`},this.userEmail)),this.linkArray&&this.linkArray.map((t=>r("li",{id:t.id,class:i},r("z-link",{textcolor:this.getZLinkTextcolor(),href:t.link,htmlid:t.id,target:t.target,icon:t.icon,onZLinkClick:this.emitDropdownMenuLinkClick},t.label)))))}render(){const i=this.logged&&this.isMenuOpen?"open":"",t=this.useInverseColors?"inverse":"";return r(o,{class:t},r("div",{ref:i=>this.divToResize=i,class:i},r("div",{class:`${t} ${i}`},this.logged?this.renderLoggedButton():this.renderGuestButton(),this.logged&&this.renderDropdownMenu())))}};n.style=":host{background-color:var(--gray900)}:host(.inverse){background-color:var(--color-white)}button{cursor:pointer;display:flex;flex-direction:column;width:100%;margin:0;background-color:var(--gray900);border:none;padding:0;letter-spacing:0.16px;white-space:nowrap}button.inverse{background-color:var(--color-white)}button div.firstline{display:flex;justify-content:flex-end;align-items:center;max-width:200px}button.open div.firstline{max-width:none}z-icon{padding:0 2px;fill:var(--color-white)}z-icon.inverse{fill:var(--gray900)}ul{box-sizing:border-box;position:absolute;left:0;padding:calc(var(--space-unit) / 2) calc(var(--space-unit) * 2) 0 calc(var(--space-unit) * 2);width:100%;margin:calc(var(--space-unit) * 1.5) 0 0 0;background-color:var(--gray900);font-family:var(--font-family-sans);font-weight:var(--font-sb);font-size:14px;line-height:20px;letter-spacing:0.3px}ul.inverse{background-color:var(--color-white)}ul>li{display:flex;justify-content:flex-end;white-space:nowrap;padding:calc(var(--space-unit) * 1.5 - 1px) 0;margin:0;border-bottom:var(--border-base) solid var(--gray700)}ul>li.inverse{border-bottom-color:var(--gray400)}ul>li:first-child{border-top:none;padding-top:0;padding-bottom:calc(var(--space-unit) + 6px);flex-direction:column;align-items:end}ul>li:last-child{border-bottom:none;margin-bottom:0}#guestbutton{box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;width:100%;font-family:var(--font-family-sans);font-weight:var(--font-sb);font-size:14px;line-height:1;letter-spacing:0.3px;border-width:var(--border-size-medium);border-style:solid;border-radius:var(--border-radius);vertical-align:middle;text-transform:uppercase;text-decoration:none;cursor:pointer;outline:none;fill:currentColor;height:32px;min-width:32px;padding:0 calc(var(--space-unit) * 2);background-color:var(--color-white);border-color:var(--color-white);color:var(--gray800)}#guestbutton.inverse{background-color:var(--gray800);border-color:var(--gray800);color:var(--color-white)}.userfullname{padding:0;overflow:hidden;max-width:250px;text-overflow:ellipsis;width:100%;color:var(--color-white);font-family:var(--font-family-sans);font-weight:var(--font-sb);font-size:16px;line-height:24px;letter-spacing:0;text-align:right}.userfullname.inverse{color:var(--gray800)}.useremail{color:var(--color-white);font-family:var(--font-family-sans);font-weight:var(--font-rg);font-size:12px;line-height:16px;letter-spacing:0.32px;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:right}.useremail.inverse{color:var(--gray800)}@media only screen and (min-width: 768px){:host{height:calc(var(--space-unit) * 4);background-color:var(--gray900)}:host(.inverse){background-color:var(--color-white)}:host>div{position:relative;top:50%;transform:translateY(-50%)}:host>div.open{top:auto;transform:none}:host>div>div{padding:0}:host>div>div.open{position:absolute;right:calc(var(--space-unit) * -1);box-shadow:0px 2px calc(var(--space-unit) * .5) 0px rgba(0, 0, 0, 0.5);background-color:var(--color-white);margin-top:calc(var(--space-unit) / 2);padding:calc(var(--space-unit) / 2 + 1px) var(--space-unit) 0 var(--space-unit);transform:translate(0, -4px)}:host>div>div.inverse.open{background-color:var(--gray800)}button{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:end;align-content:center}button.open{background-color:var(--color-white);border-top:var(--border-size-small) solid var(--color-white);border-top-left-radius:calc(var(--space-unit) * .5);border-top-right-radius:calc(var(--space-unit) * .5);max-width:initial;margin-left:var(--space-unit);padding-right:var(--space-unit)}button.open.inverse{border-top-color:var(--gray800);background-color:var(--gray800)}button:not(.open) z-icon{fill:var(--color-white)}button:not(.open) z-icon.inverse{fill:var(--gray800)}button.open z-icon{fill:var(--gray800)}button.open z-icon.inverse{fill:var(--color-white)}.userfullname{font-family:var(--font-family-sans);font-weight:var(--font-sb);font-size:14px;line-height:20px;letter-spacing:0.16px;padding:0 calc(var(--space-unit) - 6px) 0 calc(var(--space-unit) - 2px);width:auto}.userfullname.inverse{color:var(--gray800)}button.open div.userfullname{color:var(--gray800);max-width:none;text-overflow:clip}button.open div.userfullname.inverse{color:var(--color-white)}.useremail{padding-right:calc(var(--space-unit) * 3 - 2px);box-sizing:border-box}button.open div.useremail{color:var(--gray800)}button.open div.useremail.inverse{color:var(--color-white)}ul{position:initial;left:initial;padding:0;width:100%;background-color:var(--color-white)}ul.inverse{border-bottom-color:var(--gray800);background-color:var(--gray800)}ul>li{color:var(--gray800);border-bottom:var(--border-base) solid var(--gray400);margin:0 var(--space-unit)}ul>li.inverse{color:var(--color-white)}ul>li:first-child{border-top:var(--border-base) solid var(--gray400);padding-top:calc(var(--space-unit) + 3px);padding-bottom:calc(var(--space-unit) + 5px)}}";export{n as z_user_dropdown}