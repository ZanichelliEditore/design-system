import{r as t,c as s,h as i,H as a,g as e}from"./p-d17ebc2f.js";import{B as o,d as n,P as r}from"./p-e1d9785e.js";import{d as c}from"./p-aa5e3e61.js";const l=class{constructor(i){t(this,i),this.sort=s(this,"sort",7),this.padding="medium",this.defaultSortDirection="asc",this.sortDirection="none",this.emitOnSort=this.emitOnSort.bind(this)}emitOnSort(){this.sort.emit({columnId:this.columnId,sortDirection:this.sortDirection})}handleSort(){this.sortable&&(this.sortDirection=(()=>{switch(this.sortDirection){case"asc":return"desc";case"desc":return"asc";case"none":return this.defaultSortDirection;default:return"none"}})(),this.emitOnSort())}handleMenuClick(){this.popover.open=!this.popover.open}handleOutsideClick(t){!c(t.target).find((t=>"z-popover"===t.nodeName.toLowerCase()))&&this.popover&&(this.popover.open=!1)}handleClickHeaders(t){const s=t.target,i=c(s).find((t=>"z-table-header"===t.nodeName.toLowerCase()));this.sortable&&i&&i.attributes.getNamedItem("column-id").value!==this.columnId&&(s.parentNode.sortable||s.sortable)&&(this.sortDirection="none")}componentWillRender(){this.host.setAttribute("role","columnheader")}render(){return i(a,{class:{sortable:this.sortable},onClick:()=>this.handleSort()},i("div",{class:"container"},i("slot",null),this.sortable&&"none"!==this.sortDirection&&i("z-icon",{name:"asc"===this.sortDirection?"arrow-up":"arrow-down",class:"arrow"})),this.showButton&&i("div",{class:"popover-container"},i("z-button",{ref:t=>this.triggerButton=t,class:"contextual-popover-button",icon:"contextual-menu",variant:o.TERTIARY,size:n.X_SMALL,onClick:()=>this.handleMenuClick()}),i("z-popover",{ref:t=>this.popover=t,position:r.BOTTOM,center:!0,bindTo:this.triggerButton},i("div",null,i("slot",{name:"contextual-menu"})))))}get host(){return e(this)}};l.style=':host{position:relative;display:table-cell;border-bottom:var(--border-size-medium) solid var(--gray200);background-color:var(--gray50);font-family:var(--dashboard-font);font-weight:var(--font-sb);text-align:start}.container{display:flex;align-items:flex-end}:host(.sortable){cursor:pointer}:host([padding="x-small"]){padding:calc(var(--space-unit) * 0.5)}:host([padding="small"]){padding:calc(var(--space-unit))}:host([padding="medium"]){padding:calc(var(--space-unit) * 2)}:host([padding="large"]){padding:calc(var(--space-unit) * 2.5)}:host([padding="special"]){padding:0}.arrow{padding-left:var(--space-unit);opacity:1}.popover-container{position:absolute;top:var(--space-unit);right:var(--space-unit);display:none}.popover-container z-popover{--z-popover-theme--surface:var(--gray200);position:relative;z-index:1}.popover-container.visible{display:block}:host(:hover) .popover-container{display:block}';export{l as Z}