import{r as t,c as o,h as e,H as n,g as a}from"./p-d17ebc2f.js";import{r}from"./p-aa5e3e61.js";import"./p-2048f7fd.js";import"./p-ad65fde5.js";const s=class{constructor(e){t(this,e),this.expand=o(this,"expand",7),this.expandable=!1,this.expanded=!1}updateColumns(){const t=Array.from(this.host.querySelectorAll("z-td, z-th"));this.expandable&&t.pop();const o=t.map((t=>t.colspan||1)).reduce(((t,o)=>t+o),0);if(this.host.style.setProperty("--columns",`${o}`),this.expandable){const o=t.pop();o.id=o.id||`z-tr-expandable-content-${r()}`,this.expandableContentId=o.id}}onRowClick(t){const o=t.target.closest(".prevent-expand");this.expandable&&!o&&(this.expanded=!this.expanded,this.expand.emit({expanded:this.expanded}))}componentWillLoad(){this.updateColumns()}render(){return e(n,{role:"row",onClick:this.onRowClick.bind(this),expanded:this.expanded},e("div",{class:"z-tr--expand-button-container"},this.expandable&&e("button",{"aria-expanded":this.expanded?"true":"false","aria-label":this.expanded?"Comprimi riga":"Espandi riga","aria-controls":this.expandableContentId,type:"button"},e("z-icon",{name:this.expanded?"minus-circled":"plus-circled"}))),e("slot",{onSlotchange:this.updateColumns.bind(this)}))}get host(){return a(this)}static get watchers(){return{expandable:["updateColumns"]}}};s.style=":host{--columns:1;display:grid;min-width:max-content;box-sizing:border-box;grid-auto-flow:column;grid-template-columns:var(--z-table--expand-button-size, 0) repeat(var(--columns), minmax(128px, 1fr))}*{box-sizing:border-box}.z-tr--expand-button-container,::slotted(*){border-bottom:var(--z-table--cells-bottom-border-size, var(--border-size-small)) solid var(--color-surface03)}::slotted(*:not(:last-child)){border-right:var(--z-table--cell-left-border, none)}:host([expandable]){--show-expandable-button:visible;cursor:pointer}:host([expandable]) ::slotted(*){grid-row:1}:host([expandable]) ::slotted(:nth-last-child(2)){border-right:none}:host([expandable]) ::slotted(*:last-child){border-left:0;grid-column:1 / span calc(var(--columns) + 1);grid-row:2}:host([expandable]:not([expanded])) ::slotted(*:last-child){display:none}:host([expanded]){margin-bottom:4px;box-shadow:0 4px 4px -2px var(--shadow-color-base)}:host([expanded]) .z-tr--expand-button-container,:host([expanded]) ::slotted(*){background-color:var(--color-surface02)}.z-tr--expand-button-container{display:flex;align-items:center;justify-content:center;background-color:var(--z-table--cells-background, var(--color-surface01))}.z-tr--expand-button-container button{display:flex;align-items:center;justify-content:center;padding:0;border:none;margin:auto;appearance:none;background:transparent;cursor:pointer;visibility:var(--show-expandable-button, hidden)}.z-tr--expand-button-container button:focus{box-shadow:var(--shadow-focus-primary);outline:none}.z-tr--expand-button-container button z-icon{--z-icon-width:16px;--z-icon-height:16px}";export{s as Z}