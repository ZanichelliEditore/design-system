import{r as e,h as a}from"./p-d17ebc2f.js";import{K as r}from"./p-a23e9115.js";import{a as i,h as t,b as n}from"./p-cd43f80d.js";import"./p-d69e14fb.js";const o=class{constructor(a){e(this,a),this.ismenuopen=!1,this.handleToggle=this.handleToggle.bind(this),this.handleFocus=this.handleFocus.bind(this)}componentWillRender(){this.linkarray="string"==typeof this.menucontent?JSON.parse(this.menucontent):this.menucontent}renderMenuOpen(){if(this.ismenuopen)return a("ul",null,this.linkarray.map((e=>a("li",null,a("z-link",{htmlid:e.id,href:e.link,icon:e.icon},e.label)))))}renderButtonMenu(){return a("span",{class:"arrow"},a("z-icon",{name:"caret-down",width:14,height:14}))}retriveMenuClass(){if(this.ismenuopen)return"menu-opened"}handleToggle(){this.ismenuopen=!this.ismenuopen}handleFocus(e){e instanceof KeyboardEvent&&e.keyCode!==r.TAB||i(n()).find((e=>"z-menu-dropdown"===e.nodeName.toLowerCase()))||(document.removeEventListener("click",this.handleFocus),document.removeEventListener("keyup",this.handleFocus),this.ismenuopen=!1)}render(){return a("a",{class:this.retriveMenuClass(),role:"button",tabindex:"0",onFocus:()=>{document.addEventListener("click",this.handleFocus),document.addEventListener("keyup",this.handleFocus)},onKeyUp:e=>t(e,this.handleToggle)},a("div",{class:"container",onClick:()=>this.handleToggle()},a("span",{class:"user-wrapper"},a("z-icon",{name:"user-avatar",width:14,height:14}),a("span",{class:"user"},this.nomeutente)),this.renderButtonMenu()),this.renderMenuOpen())}};o.style=":host{width:inherit;height:32px;font-family:var(--dashboard-font);font-size:12px;font-weight:var(--font-sb);letter-spacing:0.17px}a,a:visited,a:active{color:inherit;text-decoration:none}:host>a{display:block;border:var(--border-size-small) solid transparent;background:var(--bg-grey-050);border-radius:var(--border-radius);color:var(--text-grey-800);outline:none}:host>a::-moz-focus-inner{border:0}:host>a:hover,:host>a.menu-opened:hover{color:var(--myz-blue-dark);fill:var(--myz-blue-dark)}:host>a:focus{border:var(--border-size-small) solid var(--myz-blue);box-shadow:0 0 2px 2px var(--myz-blue-light);color:var(--myz-blue);fill:var(--myz-blue)}:host>a:active{border:var(--border-size-small) solid var(--myz-blue-light);box-shadow:0 2px 4px 0 rgb(0 0 0 / 40%);color:var(--myz-blue-light);fill:var(--myz-blue-light)}div.container{position:relative;display:flex;height:32px;align-items:center;justify-content:space-between;padding:0 var(--basex1)}div.container>span.user-wrapper{display:flex}div.container>span.user-wrapper>span.user{overflow:hidden;width:30px;padding:0 var(--basex1);cursor:pointer;text-overflow:ellipsis;white-space:nowrap}div.container>span.arrow{display:flex;align-items:center;justify-content:center}div.container>span.arrow>z-icon{transform:rotate(360deg);transition:all 200ms linear}ul{padding:0 calc(var(--space-unit) * 2);margin:0;list-style:none}li{display:flex;width:max-content;height:var(--basex3);align-items:center;padding:calc(var(--space-unit) / 4) 0}.menu-opened{position:inherit;width:auto !important;min-width:147px;padding-bottom:calc(var(--space-unit) * 2)}.menu-opened a,.menu-opened a:active,.menu-opened a:visited{color:var(--myz-blue);fill:var(--myz-blue)}.menu-opened a:hover{color:var(--myz-blue-dark);fill:var(--myz-blue-dark)}.menu-opened>div.container{margin-bottom:var(--basex1)}.menu-opened>div.container>span.user-wrapper>span.user{width:auto}.menu-opened>div.container>span.arrow>z-icon{transform:rotate(180deg);transition:all 200ms linear}@media only screen and (min-width: 1152px){:host>a{width:147px;padding:0 calc(var(--space-unit) / 4)}:host>a.menu-opened{width:147px;padding-bottom:calc(var(--space-unit) * 2)}div.container>span.user-wrapper>span.user{width:80px}}";export{o as z_menu_dropdown}