import{r as t,c as s,h as i,H as e,g as o}from"./p-d17ebc2f.js";import{Q as r,R as n,c as a,B as l}from"./p-6ef01915.js";const c=class{constructor(i){t(this,i),this.indexChange=s(this,"indexChange",7),this.single=!1,this.ghostLoadingHeight=100,this.current=0,this.scrollingTo=null}onIndexChange(){this.indexChange.emit({currentItem:this.current})}onSingleModeChange(){this.single&&!this.intersectionObserver&&this.setIntersectionObserver()}setIntersectionObserver(){this.intersectionObserver=new window.IntersectionObserver((t=>{const s=t.find((t=>t.isIntersecting));if(!s)return;const i=this.items.findIndex((t=>t===s.target));this.highlightedIndicator=i,null!==this.scrollingTo&&i!==this.scrollingTo||(this.scrollingTo=null,this.current=i)}),{root:this.itemsContainer,threshold:.5}),this.items.forEach((t=>this.intersectionObserver.observe(t)))}onPrev(){if(this.single)return void this.goTo(Math.max(0,this.current-1));const t=this.itemsContainer;t&&t.scrollBy({left:-t.clientWidth/2,behavior:"smooth"})}onNext(){if(this.single)return void this.goTo(Math.min(this.current+1,this.items.length-1));const t=this.itemsContainer;t&&t.scrollBy({left:t.clientWidth/2,behavior:"smooth"})}checkNavigationValidity(){this.single&&(this.canNavigatePrev=this.current>1,this.canNavigateNext=this.current<this.items.length-1),this.canNavigatePrev=this.itemsContainer.scrollLeft>0,this.canNavigateNext=this.itemsContainer.scrollLeft<this.itemsContainer.scrollWidth-this.itemsContainer.clientWidth}canShowFooter(){return this.arrowsPosition===r.BOTTOM||this.progressMode===n.DOTS||this.progressMode===n.NUMBERS}goTo(t){this.current!==t&&(this.scrollingTo=t,this.itemsContainer.scroll({left:this.items[t].offsetLeft,behavior:"smooth"}))}componentDidLoad(){this.itemsContainer=this.hostElement.querySelector(".z-carousel-items-container"),this.itemsContainer&&(this.items=Array.from(this.itemsContainer.querySelectorAll("li")),this.single&&this.setIntersectionObserver(),this.itemsContainer.addEventListener("scroll",this.checkNavigationValidity.bind(this),{passive:!0}),this.checkNavigationValidity())}render(){return this.isLoading?i(e,null,this.label&&i("div",{class:"heading-4 z-carousel-title"},this.label),i("div",{style:{height:`${this.ghostLoadingHeight}px`}},i("z-ghost-loading",null),i("div",{class:"loading-items-container"},i("slot",null)))):i(e,null,i("div",{class:"z-carousel-container"},this.label&&i("div",{class:"heading-4 z-carousel-title"},this.label),i("div",{class:"z-carousel-wrapper"},this.arrowsPosition===r.OVER&&i("z-button",{size:a.SMALL,"data-direction":"prev",icon:"chevron-left",onClick:this.onPrev.bind(this),disabled:!this.canNavigatePrev}),i("ul",{class:"z-carousel-items-container"},i("slot",null)),this.arrowsPosition===r.OVER&&i("z-button",{size:a.SMALL,"data-direction":"next",icon:"chevron-right",onClick:this.onNext.bind(this),disabled:!this.canNavigateNext}))),this.canShowFooter()&&i("div",{class:"z-carousel-footer"},this.arrowsPosition===r.BOTTOM&&i("z-button",{size:a.SMALL,variant:l.TERTIARY,icon:"arrow-simple-left-filled",onClick:this.onPrev.bind(this),disabled:!this.canNavigatePrev}),this.progressMode===n.DOTS&&this.single&&this.items&&i("div",{class:"dots-progress"},this.items.map(((t,s)=>i("button",{type:"button",class:{current:this.highlightedIndicator===s},onClick:()=>this.goTo(s)},i("z-icon",{name:this.highlightedIndicator===s?"white-circle-filled":"black-circle-filled"}))))),this.progressMode===n.NUMBERS&&this.single&&this.items&&i("div",{class:"numbers-progress interactive-3"},i("span",{class:"current"},this.current+1),i("span",null,"di"),i("span",null,this.items.length)),this.arrowsPosition===r.BOTTOM&&i("z-button",{size:a.SMALL,variant:l.TERTIARY,icon:"arrow-simple-right-filled",onClick:this.onNext.bind(this),disabled:!this.canNavigateNext})))}get hostElement(){return o(this)}static get watchers(){return{current:["onIndexChange"],single:["onSingleModeChange"]}}};c.style='z-carousel{font-family:var(--font-family-sans);font-weight:var(--font-rg);--z-carousel-gutter:0}z-carousel[single],z-carousel[single="true"]{display:flex;flex-direction:column;align-items:center;justify-content:center}z-carousel[single="true"] .z-carousel-container,z-carousel[single] .z-carousel-container{width:fit-content;max-width:100%}z-carousel .loading-items-container{display:none}z-carousel .z-carousel-container{display:flex;flex-direction:column}z-carousel .z-carousel-wrapper{position:relative}z-carousel .z-carousel-title{margin-bottom:var(--space-unit);color:var(--gray800)}z-carousel .z-carousel-items-container{display:flex;max-width:100%;flex-direction:row;margin:0;list-style:none;-ms-overflow-style:none;overflow-x:scroll;padding-inline-start:0;scroll-snap-type:x mandatory;scrollbar-width:none;}z-carousel .z-carousel-items-container::-webkit-scrollbar{display:none}z-carousel .z-carousel-items-container>*:not(:last-child){margin-right:var(--z-carousel-gutter)}z-carousel[single="true"] .z-carousel-items-container>*:not(:last-child),z-carousel[single] .z-carousel-items-container>*:not(:last-child){margin-right:0}z-carousel .z-carousel-items-container>li{scroll-snap-align:center}z-button[data-direction]{--z-icon-width:32px;--z-icon-height:32px;position:absolute;bottom:50%;transform:translateY(50%)}z-button[data-direction="next"]{right:0}z-carousel .z-carousel-footer{display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:var(--space-unit)}z-carousel .z-carousel-footer .numbers-progress,z-carousel .z-carousel-footer .dots-progress{display:flex;align-items:center;justify-content:center}z-carousel .z-carousel-footer .dots-progress button{display:flex;align-items:center;padding:0;border:none;margin:0;background-color:transparent}z-carousel .z-carousel-footer .dots-progress button:not(.current){cursor:pointer}z-carousel .z-carousel-footer .numbers-progress{margin:0 calc(var(--space-unit) / 2);column-gap:calc(var(--space-unit) / 2)}z-carousel .z-carousel-footer .numbers-progress .current{font-weight:var(--font-sb)}z-carousel .z-carousel-footer .dots-progress button.current z-icon{fill:var(--gray800)}z-carousel .z-carousel-footer .dots-progress button:not(.current) z-icon{fill:var(--gray200)}';export{c as z_carousel}