var __spreadArray=this&&this.__spreadArray||function(t,i,e){if(e||arguments.length===2)for(var n=0,s=i.length,r;n<s;n++){if(r||!(n in i)){if(!r)r=Array.prototype.slice.call(i,0,n);r[n]=i[n]}}return t.concat(r||Array.prototype.slice.call(i))};System.register(["./p-d8fcaf1f.system.js","./p-c39f227f.system.js","./p-1fe56b25.system.js","./p-ad6b3f77.system.js"],(function(t){"use strict";var i,e,n,s,r,o,a,l,c,h,u,f,p;return{setters:[function(t){i=t.r;e=t.c;n=t.h;s=t.a;r=t.g},function(t){o=t.V;a=t.W;l=t.p;c=t.g;h=t.P;u=t.i},function(t){f=t.g;p=t.a},function(){}],execute:function(){var d=":host{font-family:var(--font-family-sans);font-weight:var(--font-rg);--line-clamp-popover:0;--line-clamp-mobile:1}*{-webkit-box-sizing:border-box;box-sizing:border-box}button{padding:0;border:none;margin:0;background-color:transparent}nav{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}ol{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:0;margin:0;-webkit-column-gap:var(--space-unit);-moz-column-gap:var(--space-unit);column-gap:var(--space-unit);list-style:none}li{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;-webkit-column-gap:var(--space-unit);-moz-column-gap:var(--space-unit);column-gap:var(--space-unit)}ol li>a,ol li>button{font-size:var(--font-size-2);letter-spacing:0.16px;line-height:1.4}a:focus,button:focus{-webkit-box-shadow:var(--shadow-focus-primary);box-shadow:var(--shadow-focus-primary);outline:none}a{color:var(--color-link-primary);white-space:nowrap}a.missing-path{color:var(--color-default-text)}.text-ellipsis{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:var(--line-clamp-mobile);text-overflow:ellipsis;white-space:initial}nav.semibold>ol>li>a:not(.missing-path),nav.semibold>ol>li>button{font-weight:var(--font-sb);text-decoration:none}nav.underlined a,nav.underlined button{text-decoration:underline}z-icon{--z-icon-width:16px;--z-icon-height:16px;display:block;fill:var(--color-link-primary)}z-icon.separator{--z-icon-width:10px;--z-icon-height:10px;fill:var(--gray500)}button.dots{display:inline-block;color:var(--color-link-primary);cursor:pointer}.hidden-paths-popover .popover-content{max-width:302px;padding:calc(var(--space-unit) / 2) var(--space-unit);text-align:left}.hidden-paths-popover .popover-content a{font-weight:var(--font-rg);text-decoration:none}.hidden-paths-popover{--z-popover-theme--surface:var(--color-surface02);--z-popover-padding:0}.hidden-paths-popover::before,.full-path-tooltip::before{--arrow-edge-offset:calc(100% - (var(--space-unit) * 2.55))}.full-path-tooltip{--z-popover-theme--surface:var(--color-surface05);--z-popover-theme--text:var(--color-text-inverse);--z-popover-padding:0}.tooltip-content{padding:0 var(--space-unit);font-size:var(--font-size-2)}@media (min-width: 768px){.text-ellipsis{-webkit-line-clamp:var(--line-clamp-popover)}}@media (max-width: 767px){li a{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-column-gap:var(--space-unit);-moz-column-gap:var(--space-unit);column-gap:var(--space-unit)}}";var v=d;var m=t("z_breadcrumb",function(){function t(t){i(this,t);this.clickOnNode=e(this,"clickOnNode",7);this.collapsedElements=[];this.currentIndex=0;this.truncatePosition=null;this.pathStyle=o.UNDERLINED;this.homepageVariant=a.ICON;this.maxNodesToShow=5;this.preventFollowUrl=false;this.overflowMenuItemRows=0;this.truncateChar=30;this.viewPortWidth=undefined;this.hasOverflow=false;this.popoverEllipsisOpen=false}t.prototype.handleResize=function(){this.viewPortWidth=f();if(this.viewPortWidth!==l.MOBILE&&this.wrapElement&&this.wrapElement.scrollWidth>this.wrapElement.clientWidth){this.hasOverflow=true}};t.prototype.handlePropChange=function(){this.initializeBreadcrumb()};t.prototype.handleResizeUp=function(t,i){if(t===l.MOBILE||i===l.MOBILE&&t===l.TABLET||i===l.MOBILE&&t===l.DESKTOP||i===l.MOBILE&&t===l.DESKTOP_WIDE||i===l.TABLET&&t===l.DESKTOP||i===l.TABLET&&t===l.DESKTOP_WIDE||i===l.DESKTOP&&t===l.DESKTOP_WIDE){this.initializeBreadcrumb()}};t.prototype.componentWillLoad=function(){this.viewPortWidth=f();this.initializeBreadcrumb()};t.prototype.componentWillRender=function(){if(this.viewPortWidth!==l.MOBILE&&this.hasOverflow){this.checkEllipsisOrOverflowMenu();this.hasOverflow=false}};t.prototype.componentDidRender=function(){if(this.collapsedElementsRef){this.anchorElements=Array.from(this.hostElement.shadowRoot.querySelectorAll("z-list-group a"))}if(this.viewPortWidth!==l.MOBILE&&this.wrapElement.scrollWidth>this.wrapElement.clientWidth){this.hasOverflow=true}};t.prototype.initializeBreadcrumb=function(){if(this.viewPortWidth===l.MOBILE){this.pathsList=this.getPathsItemsList().filter((function(t){return!!t.path}))}else{this.pathsList=this.getPathsItemsList()}this.homepageNode=this.pathsList.shift();this.pathListCopy=__spreadArray([],this.pathsList,true);this.collapsedElements=[];if(this.pathsList.length>this.maxNodesToShow){this.collapsedElements=this.pathsList.splice(0,this.pathsList.length-2)}};t.prototype.checkEllipsisOrOverflowMenu=function(){var t,i;for(var e=0;e<this.pathsList.length;e++){if(this.pathsList[e].text.length<=this.truncateChar){continue}if(this.truncatePosition>0){(t=this.collapsedElements).push.apply(t,this.pathListCopy.splice(0,this.truncatePosition));this.pathsList.splice(0,this.truncatePosition);this.truncatePosition=0;return}else if(this.truncatePosition===0){(i=this.collapsedElements).push.apply(i,this.pathListCopy.splice(0,this.truncatePosition+1));this.pathsList.splice(0,this.truncatePosition+1);this.truncatePosition=null;return}if(e!==this.pathsList.length-1){var n=this.truncateWithEllipsis(this.pathsList[e].text,this.truncateChar);this.currentEllipsisText=this.pathsList[e].text;this.pathsList[e].text=n;this.pathsList[e].hasTooltip=true;this.truncatePosition=e;return}}};t.prototype.truncateWithEllipsis=function(t,i){if(t.length<=i){return t}return t.substring(0,i-1)+"&mldr;"};t.prototype.getPathsItemsList=function(){return Array.from(this.hostElement.children).map((function(t){return{text:t.textContent,path:t.href,hasTooltip:false}}))};t.prototype.renderHomepageNode=function(){var t=this;return n("li",null,n("a",{class:{"homepage-text":this.homepageVariant===a.TEXT},href:this.homepageNode.path,onClick:function(i){return t.handlePreventFollowUrl(i,t.homepageNode)},innerHTML:this.homepageVariant===a.ICON?'<z-icon name="home" />':this.homepageNode.text||"Home"}),this.pathsList.length>0&&n("z-icon",{class:"separator",name:"chevron-right"}))};t.prototype.togglePopover=function(){if(!this.collapsedElementsRef.open){this.collapsedElementsRef.open=true}};t.prototype.handlePreventFollowUrl=function(t,i){if(this.preventFollowUrl){t.preventDefault();this.clickOnNode.emit(i.path)}};t.prototype.handleOverflowMenuAccessibility=function(t){var i=this.anchorElements.length;if(t.key===c.TAB){t.preventDefault();return}t.stopPropagation();var e=[c.ARROW_DOWN,c.ARROW_UP];if(e.includes(t.key)){t.preventDefault();if(t.key===c.ARROW_DOWN){this.currentIndex=i===this.currentIndex+1?0:this.currentIndex+1}if(t.key===c.ARROW_UP){this.currentIndex=this.currentIndex<=0?i-1:this.currentIndex-1}this.anchorElements[this.currentIndex].focus()}if(t.key===c.ESC){this.triggerButton.focus()}};t.prototype.renderOverflowMenu=function(){var t=this;return n("li",null,n("z-popover",{class:"hidden-paths-popover",ref:function(i){return t.collapsedElementsRef=i},bindTo:this.triggerButton,position:h.BOTTOM_RIGHT,closable:true,showArrow:true},n("div",{class:"popover-content"},n("z-list",null,n("z-list-group",{size:u.SMALL},this.collapsedElements.map((function(i,e,s){return n("div",null,n("z-list-element",{clickable:true},n("a",{class:"text-ellipsis",href:i.path,onClick:function(e){return t.handlePreventFollowUrl(e,i)},onKeyDown:function(i){return t.handleOverflowMenuAccessibility(i)},innerHTML:i.text})),e<s.length-1&&n("z-divider",{color:"color-surface03"}))})))))),n("button",{class:"dots",ref:function(i){return t.triggerButton=i},"aria-label":"Mostra piÃ¹ breadcrumb","aria-haspopup":"true",onClick:function(){t.togglePopover()},onKeyDown:function(i){p(i,t.togglePopover.bind(t));setTimeout((function(){t.anchorElements[0].focus()}),100)},innerHTML:"&mldr;"}),this.pathsList.length>0&&n("z-icon",{class:"separator",name:"chevron-right"}))};t.prototype.renderMobileItems=function(){var t=this;var i=this.pathsList[this.pathsList.length-1];if(!i){return}return n("li",null,n("a",{"aria-current":i.path?undefined:"page",href:i.path,onClick:function(e){return t.handlePreventFollowUrl(e,i)}},n("z-icon",{name:"chevron-left"}),n("span",{class:{"missing-path":!i.path,"text-ellipsis":true}},i.text)))};t.prototype.renderItems=function(){var t=this;var i;return __spreadArray([this.renderHomepageNode(),this.collapsedElements.length>0&&this.renderOverflowMenu()],this.pathsList.map((function(e,s){return n("li",null,e.hasTooltip&&n("z-popover",{class:"full-path-tooltip",bindTo:i,open:t.popoverEllipsisOpen,position:h.BOTTOM_RIGHT,closable:false,showArrow:true},n("span",{class:"tooltip-content"},t.currentEllipsisText)),n("a",{class:{"missing-path":!e.path},ref:function(t){return i=t},"aria-current":e.path?undefined:"page",href:e.path,onClick:function(i){return t.handlePreventFollowUrl(i,e)},onMouseOver:function(){if(e.hasTooltip){t.popoverEllipsisOpen=true}},onMouseLeave:function(){if(e.hasTooltip){t.popoverEllipsisOpen=false}},innerHTML:e.text}),s!==t.pathsList.length-1&&n("z-icon",{class:"separator",name:"chevron-right"}))})),true)};t.prototype.render=function(){var t=this;return n(s,{key:"bba9d5bf2b1316c4e29eebcc00cb23c3e6635a36",style:{"--line-clamp-popover":"".concat(this.overflowMenuItemRows)}},n("nav",{key:"4d916bcbb730f4e3cd0d051b630336db7222aa30",ref:function(i){return t.wrapElement=i},"aria-label":"Breadcrumb",class:{semibold:this.pathStyle===o.SEMIBOLD,underlined:this.pathStyle===o.UNDERLINED}},n("ol",{key:"654d8e9cad8417a155f1bc349b7b16687c8db96e"},this.viewPortWidth===l.MOBILE?this.renderMobileItems():this.renderItems())))};Object.defineProperty(t.prototype,"hostElement",{get:function(){return r(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{maxNodesToShow:["handlePropChange"],viewPortWidth:["handleResizeUp"]}},enumerable:false,configurable:true});return t}());m.style=v}}}));
//# sourceMappingURL=p-28dfd13f.system.entry.js.map