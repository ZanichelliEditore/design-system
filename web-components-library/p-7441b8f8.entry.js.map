{"version":3,"names":["stylesCss","ZSkipToContentStyle0","ZSkipToContent","handleFocusOutSkipToContent","e","this","isInSkipToContent","target","visible","handleFocusSkipToContent","componentDidLoad","showFirstChild","componentWillRender","links","JSON","parse","elem","tree","getElementTree","menuParent","find","nodeName","toLowerCase","firstChild","_a","hostElement","children","visibleLink","id","handleLinkClick","render","h","Host","key","class","variant","map","link","i","ThemeVariant","DARK","ariaLabel","label","href","onFocus","onClick","onKeyUp","handleKeyboardSubmit","bind"],"sources":["src/components/z-skip-to-content/styles.css?tag=z-skip-to-content&encapsulation=scoped","src/components/z-skip-to-content/index.tsx"],"sourcesContent":[":host {\n  position: absolute;\n  left: -100%;\n  height: 60px;\n  box-sizing: border-box;\n  padding: calc(var(--space-unit) * 1.25) calc(var(--space-unit) * 3);\n  background-color: #24f4ff;\n  font-family: var(--font-family-sans);\n  font-weight: var(--font-rg);\n  text-align: center;\n}\n\n:host > .link-container {\n  display: inline-flex;\n  height: 100%;\n  align-items: center;\n}\n\n:host.skip-to-content-visible,\n:host:focus {\n  position: static;\n  display: block;\n}\n\n:host > .link-container > a.z-link.link-invisible {\n  overflow: hidden;\n  width: 0;\n  height: 0;\n}\n\n:host > .link-container > a.z-link.link-visible {\n  width: initial;\n  height: initial;\n}\n\n:host.dark {\n  background-color: var(--color-surface05);\n  color: var(--color-surface01);\n}\n\n:host.light {\n  border: var(--border-size-medium) solid var(--color-surface05);\n  background-color: var(--color-surface01);\n  color: var(--color-default-text);\n}\n\n/* Tablet breakpoint */\n@media (min-width: 768px) {\n  :host {\n    text-align: start;\n  }\n}\n\n/* Desktop breakpoint */\n@media (min-width: 1152px) {\n  :host > .link-container {\n    padding: 0 calc(var(--space-unit) * 3);\n    border-right: var(--border-size-small) solid var(--color-surface05);\n  }\n\n  :host > .link-container > a.z-link.link-invisible {\n    overflow: initial;\n    width: initial;\n    height: initial;\n  }\n\n  :host > .link-container:first-child {\n    padding-left: 0;\n  }\n\n  :host > .link-container:last-child,\n  :host.dark > .link-container:last-child,\n  :host.light > .link-container:last-child {\n    padding-right: 0;\n    border-right: none;\n  }\n\n  :host.dark > .link-container {\n    border-right: var(--border-size-small) solid var(--color-surface01);\n  }\n}\n","import {Component, h, Host, Element, Listen, Prop, State} from \"@stencil/core\";\nimport {getElementTree, handleKeyboardSubmit} from \"../../utils/utils\";\nimport {ThemeVariant, SkipToContentLink} from \"../../beans\";\n\n/**\n * Component short description.\n */\n@Component({\n  tag: \"z-skip-to-content\",\n  styleUrl: \"styles.css\",\n  shadow: false,\n  scoped: true,\n})\nexport class ZSkipToContent {\n  /** Graphical variant: `dark`, `light`. */\n  @Prop({reflect: true})\n  variant?: ThemeVariant;\n\n  /** Array to fill link into skip-content */\n  @Prop({mutable: true})\n  links: string | SkipToContentLink[] = [];\n\n  @State()\n  visible = false;\n\n  @State()\n  visibleLink = \"\";\n\n  @Element() hostElement: HTMLZSkipToContentElement;\n\n  @Listen(\"focusout\", {target: \"document\"})\n  handleFocusOutSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = false;\n    }\n  }\n\n  @Listen(\"focusin\", {target: \"document\"})\n  handleFocusSkipToContent(e: FocusEvent): void {\n    if (this.isInSkipToContent(e.target)) {\n      this.visible = true;\n    }\n  }\n\n  componentDidLoad(): void {\n    this.showFirstChild();\n  }\n\n  componentWillRender(): void {\n    if (this.links) {\n      this.links = typeof this.links === \"string\" ? JSON.parse(this.links) : this.links;\n    }\n  }\n\n  private isInSkipToContent(elem): boolean {\n    const tree = getElementTree(elem);\n    const menuParent = tree.find((elem: Element) => elem.nodeName.toLowerCase() === \"z-skip-to-content\");\n\n    return !!menuParent;\n  }\n\n  private showFirstChild(): void {\n    const firstChild = this.hostElement.children?.[0];\n    if (firstChild) {\n      this.visibleLink = firstChild.id;\n    }\n  }\n\n  private handleLinkClick(): void {\n    this.visible = false;\n  }\n\n  render(): HTMLZSkipToContentElement {\n    return (\n      <Host\n        class={{\n          [this.variant]: true,\n          \"skip-to-content-visible\": this.visible,\n        }}\n      >\n        {(this.links as SkipToContentLink[]).map((link, i) => {\n          const id = `skip-to-content-${i}`;\n\n          return (\n            <div class=\"link-container\">\n              <a\n                id={id}\n                class={{\n                  \"body-1-sb\": true,\n                  \"z-link\": true,\n                  \"z-link-underline\": true,\n                  \"z-link-white\": this.variant === ThemeVariant.DARK,\n                  \"z-link-black\": this.variant !== ThemeVariant.DARK,\n                  \"link-visible\": id == this.visibleLink,\n                  \"link-invisible\": id != this.visibleLink,\n                }}\n                aria-label={link.ariaLabel || link.label}\n                href={link.href}\n                onFocus={() => (this.visibleLink = id)}\n                onClick={() => this.handleLinkClick()}\n                onKeyUp={(e) => handleKeyboardSubmit(e, this.handleLinkClick.bind(this))}\n              >\n                {link.label}\n              </a>\n            </div>\n          );\n        })}\n      </Host>\n    );\n  }\n}\n"],"mappings":"gKAAA,MAAMA,EAAY,y3DAClB,MAAAC,EAAeD,E,MCYFE,EAAc,M,2DAOa,G,aAG5B,M,iBAGI,E,CAKd,2BAAAC,CAA4BC,GAC1B,GAAIC,KAAKC,kBAAkBF,EAAEG,QAAS,CACpCF,KAAKG,QAAU,K,EAKnB,wBAAAC,CAAyBL,GACvB,GAAIC,KAAKC,kBAAkBF,EAAEG,QAAS,CACpCF,KAAKG,QAAU,I,EAInB,gBAAAE,GACEL,KAAKM,gB,CAGP,mBAAAC,GACE,GAAIP,KAAKQ,MAAO,CACdR,KAAKQ,aAAeR,KAAKQ,QAAU,SAAWC,KAAKC,MAAMV,KAAKQ,OAASR,KAAKQ,K,EAIxE,iBAAAP,CAAkBU,GACxB,MAAMC,EAAOC,EAAeF,GAC5B,MAAMG,EAAaF,EAAKG,MAAMJ,GAAkBA,EAAKK,SAASC,gBAAkB,sBAEhF,QAASH,C,CAGH,cAAAR,G,MACN,MAAMY,GAAaC,EAAAnB,KAAKoB,YAAYC,YAAQ,MAAAF,SAAA,SAAAA,EAAG,GAC/C,GAAID,EAAY,CACdlB,KAAKsB,YAAcJ,EAAWK,E,EAI1B,eAAAC,GACNxB,KAAKG,QAAU,K,CAGjB,MAAAsB,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,2CACHC,MAAO,CACL,CAAC7B,KAAK8B,SAAU,KAChB,0BAA2B9B,KAAKG,UAGhCH,KAAKQ,MAA8BuB,KAAI,CAACC,EAAMC,KAC9C,MAAMV,EAAK,mBAAmBU,IAE9B,OACEP,EAAA,OAAKG,MAAM,kBACTH,EAAA,KACEH,GAAIA,EACJM,MAAO,CACL,YAAa,KACb,SAAU,KACV,mBAAoB,KACpB,eAAgB7B,KAAK8B,UAAYI,EAAaC,KAC9C,eAAgBnC,KAAK8B,UAAYI,EAAaC,KAC9C,eAAgBZ,GAAMvB,KAAKsB,YAC3B,iBAAkBC,GAAMvB,KAAKsB,aAC9B,aACWU,EAAKI,WAAaJ,EAAKK,MACnCC,KAAMN,EAAKM,KACXC,QAAS,IAAOvC,KAAKsB,YAAcC,EACnCiB,QAAS,IAAMxC,KAAKwB,kBACpBiB,QAAU1C,GAAM2C,EAAqB3C,EAAGC,KAAKwB,gBAAgBmB,KAAK3C,QAEjEgC,EAAKK,OAEJ,I"}