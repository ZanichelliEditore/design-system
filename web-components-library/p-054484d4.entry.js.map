{"version":3,"names":["stylesCss","ZFileStyle0","ZFile","removeFileHandler","this","removeFile","emit","fileName","el","remove","onMouseOver","popoverVisible","onMouseLeave","onInteractiveIconClick","componentDidLoad","elementHasEllipsis","window","innerWidth","tabletBreakpoint","allowPopover","_b","_a","icon","focus","call","ellipsis","offsetWidth","scrollWidth","render","h","Host","key","open","position","PopoverPosition","AUTO","bindTo","chip","class","innerText","ref","id","fileNumber","interactiveIcon","type","ZChipType","DEFAULT","tabIndex"],"sources":["src/components/file-upload/z-file/styles.css?tag=z-file&encapsulation=scoped","src/components/file-upload/z-file/index.tsx"],"sourcesContent":[":host {\n  position: relative;\n  font-family: var(--font-family-sans);\n  font-weight: var(--font-rg);\n}\n\n:host > z-popover {\n  z-index: 10;\n}\n\n:host > z-popover > .tooltip-content {\n  white-space: nowrap;\n}\n\n:host > z-chip span {\n  display: block;\n  overflow: hidden;\n  max-width: 250px;\n  letter-spacing: 0.32px;\n  line-height: 1.33;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n","import {Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h} from \"@stencil/core\";\nimport {PopoverPosition, ZChipType} from \"../../../beans\";\nimport {tabletBreakpoint} from \"../../../constants/breakpoints\";\n\n@Component({\n  tag: \"z-file\",\n  styleUrl: \"styles.css\",\n  shadow: false,\n  scoped: true,\n})\nexport class ZFile {\n  private icon: HTMLElement;\n\n  private ellipsis?: HTMLSpanElement;\n\n  private chip?: HTMLZChipElement;\n\n  /** File chip id */\n  @Prop()\n  fileNumber: number;\n\n  /** File name */\n  @Prop()\n  fileName: string;\n\n  @State()\n  allowPopover = false;\n\n  @State()\n  popoverVisible = false;\n\n  @Element() el: HTMLZFileElement;\n\n  /** Emitted when a z-file component is removed from the DOM */\n  @Event()\n  removeFile: EventEmitter;\n\n  private removeFileHandler(): void {\n    this.removeFile.emit({fileName: this.fileName});\n    this.el.remove();\n  }\n\n  @Listen(\"mouseover\")\n  onMouseOver(): void {\n    this.popoverVisible = true;\n  }\n\n  @Listen(\"mouseleave\")\n  onMouseLeave(): void {\n    this.popoverVisible = false;\n  }\n\n  @Listen(\"interactiveIconClick\")\n  onInteractiveIconClick(): void {\n    this.removeFileHandler();\n  }\n\n  componentDidLoad(): void {\n    if (this.elementHasEllipsis() && window.innerWidth > tabletBreakpoint) {\n      this.allowPopover = true;\n    }\n\n    this.icon?.focus?.();\n  }\n\n  private elementHasEllipsis(): boolean {\n    return this.ellipsis.offsetWidth < this.ellipsis.scrollWidth;\n  }\n\n  render(): HTMLZFileElement {\n    return (\n      <Host>\n        {this.allowPopover && (\n          <z-popover\n            open={this.popoverVisible}\n            position={PopoverPosition.AUTO}\n            bindTo={this.chip}\n          >\n            <span class=\"body-5 tooltip-content\">{this.ellipsis.innerText}</span>\n          </z-popover>\n        )}\n        <z-chip\n          ref={(el) => (this.chip = el as HTMLZChipElement)}\n          id={`chip-${this.fileNumber}`}\n          interactiveIcon=\"multiply-circled\"\n          type={ZChipType.DEFAULT}\n        >\n          <span\n            ref={(el) => (this.ellipsis = el as HTMLSpanElement)}\n            tabIndex={-1}\n          >\n            {this.fileName}\n          </span>\n        </z-chip>\n      </Host>\n    );\n  }\n}\n"],"mappings":"+IAAA,MAAMA,EAAY,wYAClB,MAAAC,EAAeD,E,MCSFE,EAAK,M,oIAgBD,M,oBAGE,K,CAQT,iBAAAC,GACNC,KAAKC,WAAWC,KAAK,CAACC,SAAUH,KAAKG,WACrCH,KAAKI,GAAGC,Q,CAIV,WAAAC,GACEN,KAAKO,eAAiB,I,CAIxB,YAAAC,GACER,KAAKO,eAAiB,K,CAIxB,sBAAAE,GACET,KAAKD,mB,CAGP,gBAAAW,G,QACE,GAAIV,KAAKW,sBAAwBC,OAAOC,WAAaC,EAAkB,CACrEd,KAAKe,aAAe,I,EAGtBC,GAAAC,EAAAjB,KAAKkB,QAAI,MAAAD,SAAA,SAAAA,EAAEE,SAAK,MAAAH,SAAA,SAAAA,EAAAI,KAAAH,E,CAGV,kBAAAN,GACN,OAAOX,KAAKqB,SAASC,YAActB,KAAKqB,SAASE,W,CAGnD,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACF3B,KAAKe,cACJU,EAAA,aAAAE,IAAA,2CACEC,KAAM5B,KAAKO,eACXsB,SAAUC,EAAgBC,KAC1BC,OAAQhC,KAAKiC,MAEbR,EAAA,QAAAE,IAAA,2CAAMO,MAAM,0BAA0BlC,KAAKqB,SAASc,YAGxDV,EAAA,UAAAE,IAAA,2CACES,IAAMhC,GAAQJ,KAAKiC,KAAO7B,EAC1BiC,GAAI,QAAQrC,KAAKsC,aACjBC,gBAAgB,mBAChBC,KAAMC,EAAUC,SAEhBjB,EAAA,QAAAE,IAAA,2CACES,IAAMhC,GAAQJ,KAAKqB,SAAWjB,EAC9BuC,UAAW,GAEV3C,KAAKG,W","ignoreList":[]}