import{r as t,c as e,h as i,g as n}from"./p-98268a57.js";const s=class{constructor(i){t(this,i),this.opened=e(this,"opened",7),this.closed=e(this,"closed",7),this.floating=!1,this.open=!1,this.toggle=this.toggle.bind(this),this.checkContent=this.checkContent.bind(this),this.onItemsChange=this.onItemsChange.bind(this)}toggle(){this.hasContent&&(this.open=!this.open,this.open?this.opened.emit():this.closed.emit())}handleClick(t){this.floating&&this.open&&!this.hostElement.contains(t.target)&&(this.reflow(),this.open=!1,this.closed.emit())}onOpenChanged(){this.open?this.reflow(!0):cancelAnimationFrame(this.raf)}componentWillLoad(){this.checkContent()}reflow(t=!1){if(this.content){const{style:t}=this.content,{left:e}=this.hostElement.getBoundingClientRect(),i=getComputedStyle(this.content).width,n=i?parseFloat(i.replace("px","")):375;t.left=`${Math.min(window.innerWidth-e-n-30,0)}px`}t&&(this.raf=requestAnimationFrame(this.reflow.bind(this,t)))}checkContent(){this.hasHeader=!!this.hostElement.querySelectorAll('[slot="header"]').length,this.hasContent=!!this.hostElement.querySelectorAll('[slot="item"]').length||this.hasHeader}onItemsChange(){this.checkContent();const t=this.hostElement.querySelectorAll('[slot="item"]');null==t||t.forEach((t=>t.setAttribute("role","menuitem")))}renderMenuLabel(){return this.hasContent?i("button",{class:"menu-label","aria-expanded":this.open?"true":"false","aria-label":this.open?"Chiudi menù":"Apri menù",onClick:this.toggle},i("div",{class:"menu-label-content"},i("slot",null),i("z-icon",{name:this.open?"chevron-up":"chevron-down"}))):i("div",{class:"menu-label"},i("div",{class:"menu-label-content"},i("slot",null)))}render(){return[this.renderMenuLabel(),i("div",{class:"content",ref:t=>{this.content=t},hidden:!this.open},this.hasHeader&&i("header",{class:"header"},i("slot",{name:"header",onSlotchange:this.checkContent})),i("div",{class:"items",role:"menu"},i("slot",{name:"item",onSlotchange:this.onItemsChange})))]}get hostElement(){return n(this)}static get watchers(){return{open:["onOpenChanged"]}}};s.style=":host,::slotted(*),*{box-sizing:border-box}:host{display:inline-flex;flex-direction:column;position:relative}::slotted(a){color:var(--color-text01);text-decoration:none}::slotted(*){font-family:var(--font-family-sans);font-weight:var(--font-rg)}.menu-label{margin:0;padding:0;color:inherit;background:transparent;border:0;border-radius:0;outline:none;text-align:left}button.menu-label{cursor:pointer}.menu-label:focus-within{z-index:1;box-shadow:var(--shadow-focus-primary);margin-right:calc(var(--space-unit) * -0.5);margin-left:calc(var(--space-unit) * -0.5);padding-right:calc(var(--space-unit) * 0.5);padding-left:calc(var(--space-unit) * 0.5)}.menu-label .menu-label-content{display:flex;align-items:center;padding:var(--space-unit) 0;border-bottom:var(--border-size-large) solid var(--color-surface05)}:host([active]) .menu-label-content,:host([open]) .menu-label-content,.menu-label:hover .menu-label-content,.menu-label:focus-within .menu-label-content{border-color:var(--color-secondary01)}.menu-label ::slotted(*){width:100%;margin:0;appearance:none;font-size:var(--font-size-5);line-height:1.2;outline:none}.menu-label z-icon{margin-left:calc(var(--space-unit) * 4);fill:currentColor}.content{background:var(--color-surface01)}.content[hidden]{display:none}:host([floating]) .content{width:375px;max-width:100vw;padding:var(--space-unit) var(--space-unit) calc(var(--space-unit) * 2)}:host(:not([floating])) .content{width:100%}:host([floating]) .content{position:absolute;top:100%;left:0;box-shadow:var(--shadow-2);min-width:100%}.header{display:flex;align-items:center;padding:var(--space-unit) 0 calc(var(--space-unit) * 2)}.header ::slotted(img[slot='header']){width:calc(var(--space-unit) * 11.25);object-fit:contain;height:auto}.header ::slotted([slot='header']:not(:first-child)){margin:auto 0;margin-left:calc(var(--space-unit) * 2.5);font-weight:var(--font-sb);font-size:var(--font-size-3);line-height:1.5}.items{display:flex;flex-direction:column;align-items:flex-start;background:inherit}.items>::slotted([slot='item']){display:inline-flex;width:100%;margin:0;font-size:var(--font-size-3);line-height:1.25;outline:none}.items>::slotted([slot='item']:focus:focus-visible){box-shadow:var(--shadow-focus-primary)}.items>::slotted([slot='item']:not(z-menu-section)){padding:calc(var(--space-unit) * 2) calc(var(--space-unit) * 0.5);border-bottom:var(--border-size-small) solid var(--color-surface05)}.items>::slotted([slot='item']:hover),.items>::slotted([slot='item']:active){border-color:var(--color-secondary01)}";export{s as z_menu}