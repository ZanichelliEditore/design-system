import{r as t,c as s,h as i,H as a,g as o}from"./p-98268a57.js";import{c as r}from"./p-3247dee9.js";import{v as e,w as n,P as l,b as c,c as p}from"./p-e5602e1b.js";import{b as d}from"./p-c17b64f1.js";import"./p-b68038b5.js";import"./p-d69e14fb.js";const h=class{constructor(i){t(this,i),this.sort=s(this,"sort",7),this.padding=e.medium,this.defaultSortDirection=n.asc,this.sortDirection=n.none,this.isMenuOpened=!1,this.emitOnSort=this.emitOnSort.bind(this)}emitOnSort(){this.sort.emit({columnId:this.columnId,sortDirection:this.sortDirection})}handleSort(){this.sortable&&(this.sortDirection=(()=>{switch(this.sortDirection){case n.asc:return n.desc;case n.desc:return n.asc;case n.none:return this.defaultSortDirection;default:return n.none}})(),this.emitOnSort())}handleMenuClick(){this.isMenuOpened=!this.isMenuOpened}handleOutsideClick(t){d(t.target).find((t=>"z-popover"===t.nodeName.toLowerCase()))||(this.isMenuOpened=!1)}handleClickHeaders(t){const{target:s}=t,i=d(s).find((t=>"z-table-header"===t.nodeName.toLowerCase()));this.sortable&&i&&i.attributes.getNamedItem("column-id").value!==this.columnId&&(s.parentNode.sortable||s.sortable)&&(this.sortDirection=n.none)}componentWillRender(){this.host.setAttribute("role","columnheader")}render(){return i(a,{class:r({sortable:this.sortable}),onClick:()=>this.handleSort()},i("div",{class:r("container")},i("slot",null),this.sortable&&this.sortDirection!==n.none&&i("z-icon",{name:this.sortDirection===n.asc?"arrow-up":"arrow-down",class:"arrow"})),this.showButton&&i("div",{class:r("popover-container",{visible:this.isMenuOpened})},i("z-popover",{position:l["below-center"],"background-color":"gray200"},i("z-button",{icon:"contextual-menu",variant:c.tertiary,size:p["x-small"],square:!0,slot:"trigger",onClick:()=>this.handleMenuClick()}),i("div",{slot:"popover"},i("slot",{name:"contextual-menu"})))))}get host(){return o(this)}};h.style=':host{display:table-cell;background-color:var(--gray50);border-bottom:var(--border-size-medium) solid var(--gray200);font-family:var(--dashboard-font);font-weight:var(--font-sb);text-align:start;position:relative}.container{display:flex;align-items:flex-end}:host(.sortable){cursor:pointer}:host([padding="x-small"]){padding:calc(var(--space-unit) * 0.5)}:host([padding="small"]){padding:calc(var(--space-unit))}:host([padding="medium"]){padding:calc(var(--space-unit) * 2)}:host([padding="large"]){padding:calc(var(--space-unit) * 2.5)}:host([padding="special"]){padding:0}.arrow{opacity:1;padding-left:var(--space-unit)}.popover-container{position:absolute;top:var(--space-unit);right:var(--space-unit);display:none}.popover-container.visible{display:block}:host(:hover) .popover-container{display:block}';export{h as z_table_header}