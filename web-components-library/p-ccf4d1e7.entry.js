import{r as e,h as a,H as t,g as r}from"./p-904a85e4.js";const i="undefined"!=typeof IntersectionObserver,n=class{constructor(a){e(this,a),this.stuck=!1,this.overlay=!1,this.flow="auto",this.drawerOpen=!1,this.stucked=!1,this.observer=i&&new IntersectionObserver((([e])=>{this.stucked=!e.isIntersecting}),{threshold:.5}),this.openDrawer=this.openDrawer.bind(this),this.closeDrawer=this.closeDrawer.bind(this),this.setStuckPosition=this.setStuckPosition.bind(this)}componentDidLoad(){this.collectMenuElements(),this.onStuckMode(),this.setStuckPosition()}get title(){const e=this.hostElement.querySelector('[slot="title"]');return e?e.textContent.trim():""}get scrollParent(){const e=this.hostElement.offsetParent;return e===document.body||e===document.documentElement?window:e}collectMenuElements(){const e=this.menuElements=this.hostElement.querySelectorAll('[slot="menu"]');this.menuLength=e.length,this.setMenuFloatingMode()}setStuckPosition(){const e=this.hostElement.ownerDocument.querySelector("z-app-topbar");this.hostElement.style.setProperty("--app-header-top-offset",`${e?e.clientHeight:0}px`)}onStuckMode(){this.stuck?this.enableStuckObserver():this.disableStuckMode()}enableStuckObserver(){this.observer&&this.observer.observe(this.container)}disableStuckMode(){this.stucked=!1,this.observer&&this.observer.unobserve(this.container)}onStucked(){const e=this.scrollParent;e&&(this.stucked?(this.setStuckPosition(),e.addEventListener("scroll",this.setStuckPosition)):e.removeEventListener("scroll",this.setStuckPosition))}setMenuFloatingMode(){if(!this.menuElements)return;const e=this.menuElements;for(let a=0,t=e.length;a<t;a++)e[a].open=!1,e[a].floating=!this.drawerOpen}render(){return a(t,{"menu-length":this.menuLength},a("div",{class:"heading-panel",ref:e=>this.container=e},a("div",{class:"hero-container"},a("slot",{name:"hero"},this.hero&&a("img",{alt:"",src:this.hero}))),a("div",{class:"heading-container"},a("div",{class:"heading-title"},this.menuLength>0&&a("button",{class:"drawer-trigger","aria-label":"Apri menu",onClick:this.openDrawer},a("z-icon",{name:"burger-menu"})),a("slot",{name:"title"})),a("div",{class:"heading-subtitle"},a("slot",{name:"subtitle"}))),a("div",{class:"menu-container"},!this.drawerOpen&&"offcanvas"!==this.flow&&a("slot",{name:"menu",onSlotchange:()=>this.collectMenuElements()}))),a("div",{class:"drawer-container"},a("div",{class:"drawer-overlay",onClick:this.closeDrawer}),a("div",{class:"drawer-panel"},a("button",{class:"drawer-close","aria-label":"Chiudi menu",onClick:this.closeDrawer},a("z-icon",{name:"close"})),a("div",{class:"drawer-content"},this.drawerOpen&&a("slot",{name:"menu",onSlotchange:()=>this.collectMenuElements()})))),this.stucked&&a("div",{class:"heading-stucked"},this.menuLength>0&&a("button",{class:"drawer-trigger","aria-label":"Apri menu",onClick:this.openDrawer},a("z-icon",{name:"burger-menu"})),a("div",{class:"heading-title"},a("slot",{name:"stucked-title"},this.title))))}openDrawer(){this.drawerOpen=!0}closeDrawer(){this.drawerOpen=!1}get hostElement(){return r(this)}static get watchers(){return{stuck:["onStuckMode"],stucked:["onStucked"],drawerOpen:["setMenuFloatingMode"]}}};n.style=":host{--app-header-height:auto;--app-header-typography-1-size:24px;--app-header-typography-2-size:28px;--app-header-typography-3-size:32px;--app-header-typography-4-size:36px;--app-header-typography-5-size:42px;--app-header-typography-6-size:48px;--app-header-typography-7-size:54px;--app-header-typography-8-size:60px;--app-header-typography-9-size:68px;--app-header-typography-10-size:76px;--app-header-typography-11-size:84px;--app-header-typography-12-size:92px;--app-header-typography-1-lineheight:1.33;--app-header-typography-2-lineheight:1.29;--app-header-typography-3-lineheight:1.25;--app-header-typography-4-lineheight:1.24;--app-header-typography-5-lineheight:1.24;--app-header-typography-6-lineheight:1.25;--app-header-typography-7-lineheight:1.2;--app-header-typography-8-lineheight:1.26;--app-header-typography-9-lineheight:1.24;--app-header-typography-10-lineheight:1.26;--app-header-typography-11-lineheight:1.2;--app-header-typography-12-lineheight:1.2;--app-header-typography-1-tracking:calc(-0.2 / 1em);--app-header-typography-2-tracking:calc(-0.4 / 1em);--app-header-typography-3-tracking:calc(-0.6 / 1em);--app-header-typography-4-tracking:calc(-0.8 / 1em);--app-header-typography-5-tracking:calc(-1 / 1em);--app-header-typography-6-tracking:calc(-1.2 / 1em);--app-header-typography-7-tracking:calc(-1.4 / 1em);--app-header-typography-8-tracking:calc(-1.6 / 1em);--app-header-typography-9-tracking:calc(-1.8 / 1em);--app-header-typography-10-tracking:calc(-2 / 1em);--app-header-typography-11-tracking:calc(-2.2 / 1em);--app-header-typography-12-tracking:calc(-2.4 / 1em);--app-header-top-offset:var(var(--app-header-top-offset), 0);--app-header-drawer-trigger-size:calc(var(--space-unit) * 4);--app-header-bg:var(--color-white);--app-header-text-color:var(--gray800);display:block;color:var(--app-header-text-color)}:host,*{box-sizing:border-box}:host(:not(:empty)) .heading-panel{position:relative;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;flex-shrink:0;flex-grow:0;width:100%;height:var(--app-header-height);padding-top:calc(var(--space-unit) * 3.5);padding-right:var(--grid-mobile-margin);padding-bottom:calc(var(--space-unit) * 4.5);padding-left:var(--grid-mobile-margin);background:var(--app-header-bg)}.heading-title{display:flex;flex-direction:row;align-items:center;max-width:100%}.heading-stucked{position:fixed;top:var(--app-header-top-offset);left:0;z-index:5;display:flex;flex-direction:row;width:100%;max-width:100%;padding:var(--space-unit) var(--grid-mobile-margin);background:var(--app-header-bg);box-shadow:var(--shadow-2);animation:slideStuckedHeadingIn 250ms ease-out}.heading-stucked .heading-title,.heading-stucked .heading-title>*,.heading-stucked .heading-title ::slotted([slot='stucked-title']){display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.heading-stucked .heading-title>*,::slotted([slot='title']),::slotted([slot='stucked-title']){margin:0;font-weight:700;font-family:'IBM Plex Serif', serif;font-size:var(--app-header-typography-3-size);line-height:var(--app-header-typography-3-lineheight);letter-spacing:var(--app-header-typography-3-tracking)}.heading-subtitle{padding-left:calc(var(--app-header-drawer-trigger-size) + (var(--space-unit) * 1.5))}::slotted([slot='subtitle']){margin-top:var(--space-unit);font-family:var(--font-family-sans);font-style:italic;font-weight:500;font-size:20px;line-height:1.2}.heading-container{position:relative;z-index:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;max-width:100%;margin-right:auto}.menu-container{display:none;flex-direction:row;flex-wrap:wrap;align-items:baseline}.menu-container ::slotted([open]){position:relative;z-index:3}.menu-container ::slotted(*:not(:last-of-type)){margin-right:calc(var(--space-unit) * 4.5)}.drawer-trigger{margin:0 calc(var(--space-unit) * 1.5) 0 0;padding:0;background:none;border:0;border-radius:0;color:inherit;appearance:none;cursor:pointer}.drawer-trigger z-icon{--z-icon-width:var(--app-header-drawer-trigger-size);--z-icon-height:var(--app-header-drawer-trigger-size);fill:currentColor}.drawer-container{position:fixed;top:var(--app-header-top-offset);left:0;width:100%;height:100%;z-index:100;pointer-events:none}.drawer-container .drawer-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;display:block;background:var(--gray900);opacity:0;transition:opacity 400ms ease-out;pointer-events:none}.drawer-panel{position:absolute;top:0;left:0;z-index:2;display:flex;flex-direction:column;align-items:flex-start;width:375px;max-width:100%;height:100%;padding:calc(var(--space-unit) * 2) calc(var(--space-unit) * 0.5) calc(var(--space-unit) * 2) 0;background:var(--color-white);color:var(--gray800);transform:translate3d(-100%, 0, 0);transition:transform 400ms ease-out;pointer-events:none}.drawer-content{display:flex;flex-direction:column;flex:1 auto;width:100%;padding:calc(var(--space-unit) * 0.5) calc(var(--space-unit) * 2);overflow:auto}.drawer-content::-webkit-scrollbar{background:linear-gradient(\n    90deg,\n    var(--color-white) 2px,\n    var(--gray200) 4px,\n    var(--color-white) 8px\n  );border-radius:var(--border-radius);width:10px}.drawer-content::-webkit-scrollbar-thumb{background-color:var(--color-primary01);border-radius:var(--border-radius);width:10px}.drawer-content ::slotted(z-menu){width:100%;margin-bottom:var(--space-unit)}.drawer-close{--z-icon-width:var(--app-header-drawer-trigger-size);--z-icon-height:var(--app-header-drawer-trigger-size);margin:var(--space-unit) calc(var(--space-unit) * 2);padding:0;font-size:inherit;background:transparent;color:inherit;fill:currentColor;border:0;border-radius:0;appearance:none;cursor:pointer}:host([drawer-open]) .drawer-container .drawer-overlay{opacity:0.7;pointer-events:all}:host([drawer-open]) .drawer-container .drawer-panel{transform:none;pointer-events:all}.hero-container{position:absolute;top:0;left:0;z-index:0;width:100%;height:100%}:host([overlay]) .heading-panel .drawer-trigger z-icon,:host([overlay]) .heading-panel .heading-container,:host([overlay]) .heading-panel .menu-container{color:var(--color-white);fill:var(--color-white)}:host([overlay]) .hero-container::after{content:'';position:absolute;top:0;left:0;z-index:0;width:100%;height:100%;background:var(--color-black);opacity:0.5}.hero-container img,.hero-container ::slotted(*){position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top center;-webkit-user-drag:none}@media only screen and (min-width: 768px){.heading-panel,.heading-stucked{padding-left:var(--grid-tablet-margin);padding-right:var(--grid-tablet-margin)}:host(:not([flow='offcanvas'])) .heading-subtitle{padding-left:0}:host(:not([flow='offcanvas'])) .menu-container{display:flex}:host(:not([flow='offcanvas'])) .heading-container .drawer-trigger{display:none}:host(:not([flow='offcanvas']):not([menu-length='0'])) .heading-container:not(:last-child){margin-bottom:calc(var(--space-unit) * 3)}.heading-stucked .heading-title>*,::slotted([slot='title']){font-size:var(--app-header-typography-5-size);line-height:var(--app-header-typography-5-lineheight);letter-spacing:var(--app-header-typography-5-tracking)}}@media only screen and (min-width: 1152px){.heading-panel,.heading-stucked{padding-left:var(--grid-desktop-margin);padding-right:var(--grid-desktop-margin)}:host(:not([flow='stack'])) .heading-panel{flex-direction:row;flex-wrap:wrap}::slotted([slot='title']){font-size:var(--app-header-typography-7-size);line-height:var(--app-header-typography-7-lineheight);letter-spacing:var(--app-header-typography-7-tracking);margin-right:var(--grid-desktop-gutter)}.heading-container{width:calc(6 * ((100% - var(--grid-desktop-gutter)) / var(--grid-desktop-column)))}:host(:not([flow='offcanvas']):not([menu-length='0'])) .heading-container:not(:last-child){margin-bottom:calc(var(--space-unit) * 2)}.menu-container{margin-top:var(--space-unit)}}@media only screen and (min-width: 1366px){.heading-panel,.heading-stucked{padding-left:var(--grid-wide-margin);padding-right:var(--grid-wide-margin)}::slotted([slot='title']){font-size:var(--app-header-typography-9-size);line-height:var(--app-header-typography-9-lineheight);letter-spacing:var(--app-header-typography-9-tracking);margin-right:var(--grid-wide-gutter)}.heading-container{width:calc(6 * ((100% - var(--grid-wide-gutter)) / var(--grid-wide-column)))}:host(:not([flow='offcanvas']):not([menu-length='0'])) .heading-container:not(:last-child){margin-bottom:0}.menu-container{margin-top:calc(var(--space-unit) * 3)}}@keyframes slideStuckedHeadingIn{0%{transform:translate3d(0, -100%, 0)}100%{transform:none}}";export{n as z_app_header}