import{r as e,c as t,h as i,H as o}from"./p-d17ebc2f.js";import{P as n}from"./p-a4711d6d.js";const l=class{constructor(i){e(this,i),this.clickContextualMenu=t(this,"clickContextualMenu",7),this.color="color-primary01",this.popoverPosition=n.BOTTOM_RIGHT}componentWillRender(){this.elements&&(this.jsonElements=JSON.parse(this.elements.replace(/&quot;/g,'"')))}componentDidLoad(){this.popoverEl.bindTo=this.triggerButton}showIcon(){return!this.jsonElements.some((e=>!e.icon))}togglePopover(){this.popoverEl.open||(this.popoverEl.open=!0)}render(){var e,t;return i(o,null,i("button",{ref:e=>this.triggerButton=e,"aria-label":(null===(e=this.popoverEl)||void 0===e?void 0:e.open)?"chiudi menu contestuale":"apri menu contestuale",onClick:()=>this.togglePopover()},i("z-icon",{name:"contextual-menu",fill:this.color})),i("z-popover",{ref:e=>this.popoverEl=e,position:this.popoverPosition},i("div",{class:"popover-content-container"},i("z-list",null,i("z-list-group",{"divider-type":"element"},null===(t=this.jsonElements)||void 0===t?void 0:t.map(((e,t)=>i("z-list-element",{clickable:!e.disabled,class:"my-z-list-element","align-button":"left","expandable-style":"accordion",color:e.disabled?"color-disabled03":this.color,isContextualMenu:!0,listElementId:t,onClickItem:e=>this.clickContextualMenu.emit(e.detail)},i("div",{class:e.disabled?"disabled-element-container":"element-container"},this.showIcon()&&i("div",{class:"element-icon"},i("z-icon",{name:e.icon,width:16,height:16})),i("div",{class:"element-text"},i("span",null,e.text)))))))))))}};l.style=":host{position:relative;display:flex;align-items:center;justify-content:center;font-family:var(--font-family-sans);font-weight:var(--font-rg)}button{width:100%;height:100%;padding:0;border:none;background:transparent;cursor:pointer}z-popover{overflow:hidden}.popover-content-container{position:relative;min-width:112px;max-width:280px;background-color:var(--color-surface02);box-shadow:var(--shadow-2);white-space:nowrap}.element-container:hover{color:var(--color-hover-primary);fill:var(--color-hover-primary)}.element-text{overflow:hidden;font-size:14px;text-overflow:ellipsis}.element-container,.disabled-element-container{display:flex;min-height:calc(var(--space-unit) * 4);box-sizing:border-box;align-items:center;padding:calc(var(--space-unit) / 2) var(--space-unit);fill:var(--color-disabled03);gap:var(--space-unit)}.element-container{fill:var(--color-primary01)}.element-icon{display:flex}";export{l as z_contextual_menu}