{"version":3,"names":["stylesCss","ZFileStyle0","ZFile","prototype","removeFileHandler","this","removeFile","emit","fileName","el","remove","onMouseOver","popoverVisible","onMouseLeave","onInteractiveIconClick","componentDidLoad","elementHasEllipsis","window","innerWidth","tabletBreakpoint","allowPopover","_b","_a","icon","focus","call","ellipsis","offsetWidth","scrollWidth","render","_this","h","Host","key","open","position","PopoverPosition","AUTO","bindTo","chip","class","innerText","ref","id","concat","fileNumber","interactiveIcon","type","ZChipType","DEFAULT","tabIndex"],"sources":["src/components/file-upload/z-file/styles.css?tag=z-file&encapsulation=scoped","src/components/file-upload/z-file/index.tsx"],"sourcesContent":[":host {\n  position: relative;\n  font-family: var(--font-family-sans);\n  font-weight: var(--font-rg);\n}\n\n:host > z-popover {\n  z-index: 10;\n}\n\n:host > z-popover > .tooltip-content {\n  white-space: nowrap;\n}\n\n:host > z-chip span {\n  display: block;\n  overflow: hidden;\n  max-width: 250px;\n  letter-spacing: 0.32px;\n  line-height: 1.33;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n","import {Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h} from \"@stencil/core\";\nimport {PopoverPosition, ZChipType} from \"../../../beans\";\nimport {tabletBreakpoint} from \"../../../constants/breakpoints\";\n\n@Component({\n  tag: \"z-file\",\n  styleUrl: \"styles.css\",\n  shadow: false,\n  scoped: true,\n})\nexport class ZFile {\n  private icon: HTMLElement;\n\n  private ellipsis?: HTMLSpanElement;\n\n  private chip?: HTMLZChipElement;\n\n  /** File chip id */\n  @Prop()\n  fileNumber: number;\n\n  /** File name */\n  @Prop()\n  fileName: string;\n\n  @State()\n  allowPopover = false;\n\n  @State()\n  popoverVisible = false;\n\n  @Element() el: HTMLZFileElement;\n\n  /** Emitted when a z-file component is removed from the DOM */\n  @Event()\n  removeFile: EventEmitter;\n\n  private removeFileHandler(): void {\n    this.removeFile.emit({fileName: this.fileName});\n    this.el.remove();\n  }\n\n  @Listen(\"mouseover\")\n  onMouseOver(): void {\n    this.popoverVisible = true;\n  }\n\n  @Listen(\"mouseleave\")\n  onMouseLeave(): void {\n    this.popoverVisible = false;\n  }\n\n  @Listen(\"interactiveIconClick\")\n  onInteractiveIconClick(): void {\n    this.removeFileHandler();\n  }\n\n  componentDidLoad(): void {\n    if (this.elementHasEllipsis() && window.innerWidth > tabletBreakpoint) {\n      this.allowPopover = true;\n    }\n\n    this.icon?.focus?.();\n  }\n\n  private elementHasEllipsis(): boolean {\n    return this.ellipsis.offsetWidth < this.ellipsis.scrollWidth;\n  }\n\n  render(): HTMLZFileElement {\n    return (\n      <Host>\n        {this.allowPopover && (\n          <z-popover\n            open={this.popoverVisible}\n            position={PopoverPosition.AUTO}\n            bindTo={this.chip}\n          >\n            <span class=\"body-5 tooltip-content\">{this.ellipsis.innerText}</span>\n          </z-popover>\n        )}\n        <z-chip\n          ref={(el) => (this.chip = el as HTMLZChipElement)}\n          id={`chip-${this.fileNumber}`}\n          interactiveIcon=\"multiply-circled\"\n          type={ZChipType.DEFAULT}\n        >\n          <span\n            ref={(el) => (this.ellipsis = el as HTMLSpanElement)}\n            tabIndex={-1}\n          >\n            {this.fileName}\n          </span>\n        </z-chip>\n      </Host>\n    );\n  }\n}\n"],"mappings":"sOAAA,IAAMA,UAAY,wYAClB,IAAAC,YAAeD,U,ICSFE,MAAK,W,4JAgBD,M,oBAGE,K,CAQTA,EAAAC,UAAAC,kBAAA,WACNC,KAAKC,WAAWC,KAAK,CAACC,SAAUH,KAAKG,WACrCH,KAAKI,GAAGC,Q,EAIVR,EAAAC,UAAAQ,YAAA,WACEN,KAAKO,eAAiB,I,EAIxBV,EAAAC,UAAAU,aAAA,WACER,KAAKO,eAAiB,K,EAIxBV,EAAAC,UAAAW,uBAAA,WACET,KAAKD,mB,EAGPF,EAAAC,UAAAY,iBAAA,W,QACE,GAAIV,KAAKW,sBAAwBC,OAAOC,WAAaC,iBAAkB,CACrEd,KAAKe,aAAe,I,EAGtBC,GAAAC,EAAAjB,KAAKkB,QAAI,MAAAD,SAAA,SAAAA,EAAEE,SAAK,MAAAH,SAAA,SAAAA,EAAAI,KAAAH,E,EAGVpB,EAAAC,UAAAa,mBAAA,WACN,OAAOX,KAAKqB,SAASC,YAActB,KAAKqB,SAASE,W,EAGnD1B,EAAAC,UAAA0B,OAAA,eAAAC,EAAAzB,KACE,OACE0B,EAACC,KAAI,CAAAC,IAAA,4CACF5B,KAAKe,cACJW,EAAA,aAAAE,IAAA,2CACEC,KAAM7B,KAAKO,eACXuB,SAAUC,gBAAgBC,KAC1BC,OAAQjC,KAAKkC,MAEbR,EAAA,QAAAE,IAAA,2CAAMO,MAAM,0BAA0BnC,KAAKqB,SAASe,YAGxDV,EAAA,UAAAE,IAAA,2CACES,IAAK,SAACjC,GAAE,OAAMqB,EAAKS,KAAO9B,CAAlB,EACRkC,GAAI,QAAAC,OAAQvC,KAAKwC,YACjBC,gBAAgB,mBAChBC,KAAMC,UAAUC,SAEhBlB,EAAA,QAAAE,IAAA,2CACES,IAAK,SAACjC,GAAE,OAAMqB,EAAKJ,SAAWjB,CAAtB,EACRyC,UAAW,GAEV7C,KAAKG,W,gIAjFA,G","ignoreList":[]}