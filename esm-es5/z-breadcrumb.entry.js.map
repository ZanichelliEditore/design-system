{"version":3,"names":["stylesCss","ZBreadcrumbStyle0","ZBreadcrumb","this","collapsedElements","currentIndex","truncatePosition","BreadcrumbPathStyle","UNDERLINED","BreadcrumbHomepageVariant","ICON","prototype","handleResize","viewPortWidth","getDevice","Device","MOBILE","wrapElement","scrollWidth","clientWidth","hasOverflow","handlePropChange","initializeBreadcrumb","handleResizeUp","newValue","oldValue","TABLET","DESKTOP","DESKTOP_WIDE","componentWillLoad","componentWillRender","checkEllipsisOrOverflowMenu","componentDidRender","collapsedElementsRef","anchorElements","Array","from","hostElement","shadowRoot","querySelectorAll","pathsList","getPathsItemsList","filter","item","path","homepageNode","shift","pathListCopy","__spreadArray","length","maxNodesToShow","splice","i","text","truncateChar","_a","push","apply","_b","truncatedString","truncateWithEllipsis","currentEllipsisText","hasTooltip","str","maxLength","substring","children","map","textContent","href","renderHomepageNode","_this","h","class","homepageVariant","TEXT","onClick","e","handlePreventFollowUrl","innerHTML","name","togglePopover","open","preventFollowUrl","preventDefault","clickOnNode","emit","handleOverflowMenuAccessibility","anchorElementsLenght","key","KeyboardCode","TAB","stopPropagation","arrows","ARROW_DOWN","ARROW_UP","includes","focus","ESC","triggerButton","renderOverflowMenu","ref","val","bindTo","position","PopoverPosition","BOTTOM_RIGHT","closable","showArrow","size","ListSize","SMALL","index","array","clickable","onKeyDown","color","el","handleKeyboardSubmit","bind","setTimeout","renderMobileItems","secondToLastPath","undefined","renderItems","trigger","popoverEllipsisOpen","onMouseOver","onMouseLeave","render","Host","style","concat","overflowMenuItemRows","semibold","pathStyle","SEMIBOLD","underlined"],"sources":["src/components/z-breadcrumb/styles.css?tag=z-breadcrumb&encapsulation=shadow","src/components/z-breadcrumb/index.tsx"],"sourcesContent":[":host {\n  font-family: var(--font-family-sans);\n  font-weight: var(--font-rg);\n\n  --line-clamp-popover: 0;\n  --line-clamp-mobile: 1;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nbutton {\n  padding: 0;\n  border: none;\n  margin: 0;\n  background-color: transparent;\n}\n\nnav {\n  display: flex;\n  align-items: center;\n}\n\nol {\n  display: flex;\n  align-items: center;\n  padding: 0;\n  margin: 0;\n  column-gap: var(--space-unit);\n  list-style: none;\n}\n\nli {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  column-gap: var(--space-unit);\n}\n\nol li > a,\nol li > button {\n  font-size: var(--font-size-2);\n  letter-spacing: 0.16px;\n  line-height: 1.4;\n}\n\na:focus,\nbutton:focus {\n  box-shadow: var(--shadow-focus-primary);\n  outline: none;\n}\n\na {\n  color: var(--color-link-primary);\n  white-space: nowrap;\n}\n\na.missing-path {\n  color: var(--color-default-text);\n}\n\n.text-ellipsis {\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: var(--line-clamp-mobile);\n  text-overflow: ellipsis;\n  white-space: initial;\n}\n\nnav.semibold > ol > li > a:not(.missing-path),\nnav.semibold > ol > li > button {\n  font-weight: var(--font-sb);\n  text-decoration: none;\n}\n\nnav.underlined a,\nnav.underlined button {\n  text-decoration: underline;\n}\n\nz-icon {\n  --z-icon-width: 16px;\n  --z-icon-height: 16px;\n\n  display: block;\n  fill: var(--color-link-primary);\n}\n\nz-icon.separator {\n  --z-icon-width: 10px;\n  --z-icon-height: 10px;\n\n  fill: var(--gray500);\n}\n\nbutton.dots {\n  display: inline-block;\n  color: var(--color-link-primary);\n  cursor: pointer;\n}\n\n.hidden-paths-popover .popover-content {\n  max-width: 302px;\n  padding: calc(var(--space-unit) / 2) var(--space-unit);\n  text-align: left;\n}\n\n.hidden-paths-popover .popover-content a {\n  font-weight: var(--font-rg);\n  text-decoration: none;\n}\n\n.hidden-paths-popover {\n  --z-popover-theme--surface: var(--color-surface02);\n  --z-popover-padding: 0;\n}\n\n.hidden-paths-popover::before,\n.full-path-tooltip::before {\n  --arrow-edge-offset: calc(100% - (var(--space-unit) * 2.55));\n}\n\n.full-path-tooltip {\n  --z-popover-theme--surface: var(--color-surface05);\n  --z-popover-theme--text: var(--color-text-inverse);\n  --z-popover-padding: 0;\n}\n\n.tooltip-content {\n  padding: 0 var(--space-unit);\n  font-size: var(--font-size-2);\n}\n\n@media (min-width: 768px) {\n  .text-ellipsis {\n    -webkit-line-clamp: var(--line-clamp-popover);\n  }\n}\n\n@media (max-width: 767px) {\n  li a {\n    display: flex;\n    align-items: center;\n    column-gap: var(--space-unit);\n  }\n}\n","import {Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h} from \"@stencil/core\";\nimport {\n  BreadcrumbHomepageVariant,\n  BreadcrumbPath,\n  BreadcrumbPathStyle,\n  Device,\n  KeyboardCode,\n  ListSize,\n  PopoverPosition,\n} from \"../../beans\";\nimport {getDevice, handleKeyboardSubmit} from \"../../utils/utils\";\n\n@Component({\n  tag: \"z-breadcrumb\",\n  styleUrl: \"styles.css\",\n  shadow: true,\n})\nexport class ZBreadcrumb {\n  /* Accessibility references */\n  /* Overflow-menu: https://www.w3.org/WAI/ARIA/apg/patterns/menu-button/ */\n  /* Breadcrumb: https://www.w3.org/WAI/ARIA/apg/patterns/breadcrumb/ */\n  /* Focus on multiline link: https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance.html */\n\n  @Element() hostElement: HTMLZBreadcrumbElement;\n\n  /** [optional] Sets the path style */\n  @Prop({reflect: true})\n  pathStyle?: BreadcrumbPathStyle = BreadcrumbPathStyle.UNDERLINED;\n\n  /** [optional] Variant of first node */\n  @Prop()\n  homepageVariant?: BreadcrumbHomepageVariant = BreadcrumbHomepageVariant.ICON;\n\n  /** [optional] Sets max number of element to show */\n  @Prop()\n  maxNodesToShow? = 5;\n\n  /** [optional] Controls the behaviour on <a> tag click/enter */\n  @Prop()\n  preventFollowUrl? = false;\n\n  /** [optional] Sets max number of row for each path inside the popover. Zero equals unlimited */\n  @Prop()\n  overflowMenuItemRows? = 0;\n\n  /** [optional] Sets the maximun number of chars per single node */\n  @Prop()\n  truncateChar? = 30;\n\n  /** Handle mobile */\n  @State()\n  viewPortWidth: Device;\n\n  /** Detect whether the length of the nodes shown exceeds the container length */\n  @State()\n  hasOverflow = false;\n\n  @State()\n  popoverEllipsisOpen = false;\n\n  /** Emitted when preventFollowUrl=true to handle custom page transition */\n  @Event()\n  clickOnNode: EventEmitter<BreadcrumbPath[\"path\"]>;\n\n  private pathsList: BreadcrumbPath[];\n\n  private pathListCopy: BreadcrumbPath[];\n\n  private collapsedElements: BreadcrumbPath[] = [];\n\n  private collapsedElementsRef: HTMLZPopoverElement;\n\n  private triggerButton: HTMLButtonElement;\n\n  private wrapElement: HTMLElement;\n\n  private currentIndex = 0;\n\n  private homepageNode: BreadcrumbPath;\n\n  private anchorElements;\n\n  private currentEllipsisText: string;\n\n  private truncatePosition = null;\n\n  @Listen(\"resize\", {target: \"window\"})\n  handleResize(): void {\n    this.viewPortWidth = getDevice();\n    if (\n      this.viewPortWidth !== Device.MOBILE &&\n      this.wrapElement &&\n      this.wrapElement.scrollWidth > this.wrapElement.clientWidth\n    ) {\n      this.hasOverflow = true;\n    }\n  }\n  // eslint-disable-next-line lines-between-class-members\n  @Watch(\"maxNodesToShow\")\n  handlePropChange(): void {\n    this.initializeBreadcrumb();\n  }\n\n  @Watch(\"viewPortWidth\")\n  handleResizeUp(newValue: Device, oldValue: Device): void {\n    if (\n      newValue === Device.MOBILE ||\n      (oldValue === Device.MOBILE && newValue === Device.TABLET) ||\n      (oldValue === Device.MOBILE && newValue === Device.DESKTOP) ||\n      (oldValue === Device.MOBILE && newValue === Device.DESKTOP_WIDE) ||\n      (oldValue === Device.TABLET && newValue === Device.DESKTOP) ||\n      (oldValue === Device.TABLET && newValue === Device.DESKTOP_WIDE) ||\n      (oldValue === Device.DESKTOP && newValue === Device.DESKTOP_WIDE)\n    ) {\n      this.initializeBreadcrumb();\n    }\n  }\n\n  componentWillLoad(): void {\n    this.viewPortWidth = getDevice();\n    this.initializeBreadcrumb();\n  }\n\n  componentWillRender(): void {\n    if (this.viewPortWidth !== Device.MOBILE && this.hasOverflow) {\n      this.checkEllipsisOrOverflowMenu();\n      this.hasOverflow = false;\n    }\n  }\n\n  componentDidRender(): void {\n    if (this.collapsedElementsRef) {\n      this.anchorElements = Array.from(this.hostElement.shadowRoot.querySelectorAll(\"z-list-group a\"));\n    }\n\n    if (this.viewPortWidth !== Device.MOBILE && this.wrapElement.scrollWidth > this.wrapElement.clientWidth) {\n      this.hasOverflow = true;\n    }\n  }\n\n  private initializeBreadcrumb(): void {\n    if (this.viewPortWidth === Device.MOBILE) {\n      this.pathsList = this.getPathsItemsList().filter((item) => !!item.path);\n    } else {\n      this.pathsList = this.getPathsItemsList();\n    }\n    this.homepageNode = this.pathsList.shift();\n    this.pathListCopy = [...this.pathsList];\n    this.collapsedElements = [];\n    if (this.pathsList.length > this.maxNodesToShow) {\n      this.collapsedElements = this.pathsList.splice(0, this.pathsList.length - 2);\n    }\n  }\n\n  private checkEllipsisOrOverflowMenu(): void {\n    for (let i = 0; i < this.pathsList.length; i++) {\n      if (this.pathsList[i].text.length <= this.truncateChar) {\n        continue;\n      }\n\n      if (this.truncatePosition > 0) {\n        this.collapsedElements.push(...this.pathListCopy.splice(0, this.truncatePosition));\n        this.pathsList.splice(0, this.truncatePosition);\n        this.truncatePosition = 0;\n\n        return;\n      } else if (this.truncatePosition === 0) {\n        this.collapsedElements.push(...this.pathListCopy.splice(0, this.truncatePosition + 1));\n        this.pathsList.splice(0, this.truncatePosition + 1);\n        this.truncatePosition = null;\n\n        return;\n      }\n\n      if (i !== this.pathsList.length - 1) {\n        const truncatedString = this.truncateWithEllipsis(this.pathsList[i].text, this.truncateChar);\n        this.currentEllipsisText = this.pathsList[i].text;\n        this.pathsList[i].text = truncatedString;\n        this.pathsList[i].hasTooltip = true;\n        this.truncatePosition = i;\n\n        return;\n      }\n    }\n  }\n\n  private truncateWithEllipsis(str: string, maxLength: number): string {\n    if (str.length <= maxLength) {\n      return str;\n    }\n\n    return str.substring(0, maxLength - 1) + \"&mldr;\";\n  }\n\n  private getPathsItemsList(): BreadcrumbPath[] {\n    return Array.from(this.hostElement.children).map((item: HTMLAnchorElement) => {\n      return {\n        text: item.textContent,\n        path: item.href,\n        hasTooltip: false,\n      };\n    });\n  }\n\n  private renderHomepageNode(): HTMLLIElement {\n    return (\n      <li>\n        <a\n          class={{\n            \"homepage-text\": this.homepageVariant === BreadcrumbHomepageVariant.TEXT,\n          }}\n          href={this.homepageNode.path}\n          onClick={(e) => this.handlePreventFollowUrl(e, this.homepageNode)}\n          innerHTML={\n            this.homepageVariant === BreadcrumbHomepageVariant.ICON\n              ? `<z-icon name=\"home\" />`\n              : this.homepageNode.text || \"Home\"\n          }\n        />\n        {this.pathsList.length > 0 && (\n          <z-icon\n            class=\"separator\"\n            name=\"chevron-right\"\n          />\n        )}\n      </li>\n    );\n  }\n\n  private togglePopover(): void {\n    if (!this.collapsedElementsRef.open) {\n      this.collapsedElementsRef.open = true;\n    }\n  }\n\n  private handlePreventFollowUrl(e: MouseEvent, item): void {\n    if (this.preventFollowUrl) {\n      e.preventDefault();\n      this.clickOnNode.emit(item.path);\n    }\n  }\n\n  private handleOverflowMenuAccessibility(e: KeyboardEvent): void {\n    const anchorElementsLenght = this.anchorElements.length;\n    if (e.key === KeyboardCode.TAB) {\n      e.preventDefault();\n\n      return;\n    }\n    e.stopPropagation();\n    const arrows = [KeyboardCode.ARROW_DOWN, KeyboardCode.ARROW_UP];\n    if (arrows.includes(e.key as KeyboardCode)) {\n      e.preventDefault();\n\n      if (e.key === KeyboardCode.ARROW_DOWN) {\n        this.currentIndex = anchorElementsLenght === this.currentIndex + 1 ? 0 : this.currentIndex + 1;\n      }\n      if (e.key === KeyboardCode.ARROW_UP) {\n        this.currentIndex = this.currentIndex <= 0 ? anchorElementsLenght - 1 : this.currentIndex - 1;\n      }\n\n      this.anchorElements[this.currentIndex].focus();\n    }\n\n    if (e.key === KeyboardCode.ESC) {\n      this.triggerButton.focus();\n    }\n  }\n\n  private renderOverflowMenu(): HTMLLIElement {\n    return (\n      <li>\n        <z-popover\n          class=\"hidden-paths-popover\"\n          ref={(val) => (this.collapsedElementsRef = val as HTMLZPopoverElement)}\n          bindTo={this.triggerButton}\n          position={PopoverPosition.BOTTOM_RIGHT}\n          closable\n          showArrow\n        >\n          <div class=\"popover-content\">\n            <z-list>\n              <z-list-group size={ListSize.SMALL}>\n                {this.collapsedElements.map((item, index, array) => {\n                  return (\n                    <div>\n                      <z-list-element clickable>\n                        <a\n                          class=\"text-ellipsis\"\n                          href={item.path}\n                          onClick={(e) => this.handlePreventFollowUrl(e, item)}\n                          onKeyDown={(e) => this.handleOverflowMenuAccessibility(e)}\n                          innerHTML={item.text}\n                        />\n                      </z-list-element>\n                      {index < array.length - 1 && <z-divider color=\"color-surface03\"></z-divider>}\n                    </div>\n                  );\n                })}\n              </z-list-group>\n            </z-list>\n          </div>\n        </z-popover>\n        <button\n          class=\"dots\"\n          ref={(el) => (this.triggerButton = el)}\n          aria-label=\"Mostra piÃ¹ breadcrumb\"\n          aria-haspopup=\"true\"\n          onClick={() => {\n            this.togglePopover();\n          }}\n          onKeyDown={(e) => {\n            handleKeyboardSubmit(e, this.togglePopover.bind(this));\n            setTimeout(() => {\n              this.anchorElements[0].focus();\n            }, 100);\n          }}\n          innerHTML=\"&mldr;\"\n        ></button>\n        {this.pathsList.length > 0 && (\n          <z-icon\n            class=\"separator\"\n            name=\"chevron-right\"\n          />\n        )}\n      </li>\n    );\n  }\n\n  private renderMobileItems(): HTMLLIElement {\n    // show only the second to last element\n    const secondToLastPath = this.pathsList[this.pathsList.length - 1];\n\n    if (!secondToLastPath) {\n      return;\n    }\n\n    return (\n      <li>\n        <a\n          aria-current={secondToLastPath.path ? undefined : \"page\"}\n          href={secondToLastPath.path}\n          onClick={(e) => this.handlePreventFollowUrl(e, secondToLastPath)}\n        >\n          <z-icon name=\"chevron-left\" />\n          <span\n            class={{\n              \"missing-path\": !secondToLastPath.path,\n              \"text-ellipsis\": true,\n            }}\n          >\n            {secondToLastPath.text}\n          </span>\n        </a>\n      </li>\n    );\n  }\n\n  private renderItems(): HTMLElement[] {\n    let trigger;\n\n    return [\n      this.renderHomepageNode(),\n      this.collapsedElements.length > 0 && this.renderOverflowMenu(),\n      ...this.pathsList.map((item, index) => (\n        <li>\n          {item.hasTooltip && (\n            <z-popover\n              class=\"full-path-tooltip\"\n              bindTo={trigger}\n              open={this.popoverEllipsisOpen}\n              position={PopoverPosition.BOTTOM_RIGHT}\n              closable={false}\n              showArrow\n            >\n              <span class=\"tooltip-content\">{this.currentEllipsisText}</span>\n            </z-popover>\n          )}\n          <a\n            class={{\"missing-path\": !item.path}}\n            ref={(val) => (trigger = val)}\n            aria-current={item.path ? undefined : \"page\"}\n            href={item.path}\n            onClick={(e) => this.handlePreventFollowUrl(e, item)}\n            onMouseOver={() => {\n              if (item.hasTooltip) {\n                this.popoverEllipsisOpen = true;\n              }\n            }}\n            onMouseLeave={() => {\n              if (item.hasTooltip) {\n                this.popoverEllipsisOpen = false;\n              }\n            }}\n            innerHTML={item.text}\n          />\n          {index !== this.pathsList.length - 1 && (\n            <z-icon\n              class=\"separator\"\n              name=\"chevron-right\"\n            />\n          )}\n        </li>\n      )),\n    ];\n  }\n\n  render(): HTMLZBreadcrumbElement {\n    return (\n      <Host style={{\"--line-clamp-popover\": `${this.overflowMenuItemRows}`}}>\n        <nav\n          ref={(val) => (this.wrapElement = val)}\n          aria-label=\"Breadcrumb\"\n          class={{\n            semibold: this.pathStyle === BreadcrumbPathStyle.SEMIBOLD,\n            underlined: this.pathStyle === BreadcrumbPathStyle.UNDERLINED,\n          }}\n        >\n          <ol>{this.viewPortWidth === Device.MOBILE ? this.renderMobileItems() : this.renderItems()}</ol>\n        </nav>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}