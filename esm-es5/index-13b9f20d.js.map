{"version":3,"names":["stylesCss","ZThStyle0","ZTh","PopoverPosition","AUTO","Object","defineProperty","prototype","this","sortDirection","SortDirection","ASC","handleSort","DESC","sort","emit","updateColspan","colspan","host","style","gridColumn","concat","removeProperty","componentWillLoad","render","_this","h","Host","key","role","isMenuOpen","ariaSortDirection","class","type","onClick","bind","name","width","height","showMenu","variant","ButtonVariant","TERTIARY","icon","size","ControlSize","X_SMALL","ref","el","menuTrigger","popoverEl","open","bindTo","onOpenChange","event","detail","position","popoverPosition"],"sources":["src/components/table/cells/z-th/styles.css?tag=z-th&encapsulation=shadow","src/components/table/cells/z-th/index.tsx"],"sourcesContent":["@import \"../z-table-cells.css\";\n\n:host {\n  background-color: var(--color-surface02);\n  font-weight: var(--font-sb);\n}\n\n/* :host([sticky]) {\n  background-color: var(--color-surface02);\n} */\n\n:host([sortable]) {\n  cursor: pointer;\n}\n\n.z-th--sort-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border: none;\n  margin-top: auto;\n  background-color: transparent;\n  cursor: pointer;\n}\n\n.z-th--sort-button:focus {\n  box-shadow: var(--shadow-focus-primary);\n  outline: none;\n}\n","import {Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h} from \"@stencil/core\";\nimport {ButtonVariant, ControlSize, PopoverPosition, SortDirection, VisibilityCondition} from \"../../../../beans\";\n\n/**\n * ZTh component.\n * @slot - ZTh content.\n * @slot contextual-menu - Contextual menu content. Only visible when `showMenu` is true.\n */\n@Component({\n  tag: \"z-th\",\n  styleUrl: \"styles.css\",\n  shadow: true,\n})\nexport class ZTh {\n  @Element() host: HTMLZThElement;\n\n  /**\n   * Number of columns that the cell should span.\n   */\n  @Prop()\n  colspan: number;\n\n  /**\n   * Enables the contextual menu.\n   * Can be set to \"hover\" or \"always\" to show the button only on cell hover or always.\n   * Set a nullish value to hide the menu button.\n   */\n  @Prop({reflect: true})\n  showMenu: VisibilityCondition = null;\n\n  /**\n   * Whether the cell should stick.\n   */\n  @Prop({reflect: true})\n  sticky = false;\n\n  /**\n   * Current sorting direction.\n   * Set `SortDirection.ASC` or `SortDirection.DESC` to show the sort icon.\n   */\n  @Prop({mutable: true})\n  sortDirection?: SortDirection;\n\n  /**\n   * Set popover position.\n   */\n  @Prop()\n  popoverPosition = PopoverPosition.AUTO;\n\n  /**\n   * Store the open state of the menu.\n   */\n  @State()\n  isMenuOpen = false;\n\n  /**\n   * Sort event fired when the user clicks on the sort button.\n   * The sorting logic must be implemented by the app.\n   * You can set an `id` on the `z-th` to easly identify the column in the event listener.\n   */\n  @Event()\n  private sort: EventEmitter;\n\n  private menuTrigger: HTMLElement;\n\n  private popoverEl: HTMLZPopoverElement;\n\n  /**\n   * Get the value to set to the `aria-sort` attribute based on the current sort direction.\n   */\n  private get ariaSortDirection(): string {\n    if (!this.sortDirection) {\n      return null;\n    }\n\n    return this.sortDirection === SortDirection.ASC ? \"ascending\" : \"descending\";\n  }\n\n  /**\n   * Handle the click on the sort button.\n   * @fires sort\n   */\n  private handleSort(): void {\n    if (!this.sortDirection) {\n      return;\n    }\n\n    this.sortDirection = this.sortDirection === SortDirection.ASC ? SortDirection.DESC : SortDirection.ASC;\n    this.sort.emit({\n      sortDirection: this.sortDirection,\n    });\n  }\n\n  @Watch(\"colspan\")\n  protected updateColspan(): void {\n    if (this.colspan) {\n      this.host.style.gridColumn = `span ${this.colspan}`;\n    } else {\n      this.host.style.removeProperty(\"grid-column\");\n    }\n  }\n\n  componentWillLoad(): void {\n    this.updateColspan();\n  }\n\n  render(): HTMLZThElement {\n    return (\n      <Host\n        role=\"columnheader\"\n        menu-open={this.isMenuOpen}\n        aria-sort={this.ariaSortDirection}\n      >\n        <slot></slot>\n        {this.sortDirection && (\n          <button\n            class=\"z-th--sort-button\"\n            type=\"button\"\n            onClick={this.handleSort.bind(this)}\n          >\n            <z-icon\n              name={this.sortDirection === SortDirection.ASC ? \"arrow-simple-up\" : \"arrow-simple-down\"}\n              width={14}\n              height={14}\n            />\n          </button>\n        )}\n        {this.showMenu && (\n          <div class=\"cell--menu-container\">\n            <z-button\n              variant={ButtonVariant.TERTIARY}\n              icon=\"contextual-menu\"\n              size={ControlSize.X_SMALL}\n              ref={(el) => (this.menuTrigger = el as HTMLElement)}\n              onClick={() => (this.popoverEl.open = !this.popoverEl.open)}\n            />\n            <z-popover\n              ref={(el) => (this.popoverEl = el as HTMLZPopoverElement)}\n              bindTo={this.menuTrigger}\n              onOpenChange={(event) => (this.isMenuOpen = event.detail.open)}\n              position={this.popoverPosition}\n            >\n              <slot name=\"contextual-menu\"></slot>\n            </z-popover>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"iNAAA,IAAMA,UAAY,4qDAClB,IAAAC,UAAeD,U,ICYFE,IAAG,W,iHAekB,K,YAMvB,M,kDAaSC,gBAAgBC,K,gBAMrB,K,CAiBbC,OAAAC,eAAYJ,EAAAK,UAAA,oBAAiB,C,IAA7B,WACE,IAAKC,KAAKC,cAAe,CACvB,OAAO,I,CAGT,OAAOD,KAAKC,gBAAkBC,cAAcC,IAAM,YAAc,Y,uCAO1DT,EAAAK,UAAAK,WAAA,WACN,IAAKJ,KAAKC,cAAe,CACvB,M,CAGFD,KAAKC,cAAgBD,KAAKC,gBAAkBC,cAAcC,IAAMD,cAAcG,KAAOH,cAAcC,IACnGH,KAAKM,KAAKC,KAAK,CACbN,cAAeD,KAAKC,e,EAKdP,EAAAK,UAAAS,cAAA,WACR,GAAIR,KAAKS,QAAS,CAChBT,KAAKU,KAAKC,MAAMC,WAAa,QAAAC,OAAQb,KAAKS,Q,KACrC,CACLT,KAAKU,KAAKC,MAAMG,eAAe,c,GAInCpB,EAAAK,UAAAgB,kBAAA,WACEf,KAAKQ,e,EAGPd,EAAAK,UAAAiB,OAAA,eAAAC,EAAAjB,KACE,OACEkB,EAACC,KAAI,CAAAC,IAAA,2CACHC,KAAK,eAAc,YACRrB,KAAKsB,WAAU,YACftB,KAAKuB,mBAEhBL,EAAA,QAAAE,IAAA,6CACCpB,KAAKC,eACJiB,EAAA,UAAAE,IAAA,2CACEI,MAAM,oBACNC,KAAK,SACLC,QAAS1B,KAAKI,WAAWuB,KAAK3B,OAE9BkB,EAAA,UAAAE,IAAA,2CACEQ,KAAM5B,KAAKC,gBAAkBC,cAAcC,IAAM,kBAAoB,oBACrE0B,MAAO,GACPC,OAAQ,MAIb9B,KAAK+B,UACJb,EAAA,OAAAE,IAAA,2CAAKI,MAAM,wBACTN,EAAA,YAAAE,IAAA,2CACEY,QAASC,cAAcC,SACvBC,KAAK,kBACLC,KAAMC,YAAYC,QAClBC,IAAK,SAACC,GAAE,OAAMvB,EAAKwB,YAAcD,CAAzB,EACRd,QAAS,kBAAOT,EAAKyB,UAAUC,MAAQ1B,EAAKyB,UAAUC,IAA7C,IAEXzB,EAAA,aAAAE,IAAA,2CACEmB,IAAK,SAACC,GAAE,OAAMvB,EAAKyB,UAAYF,CAAvB,EACRI,OAAQ5C,KAAKyC,YACbI,aAAc,SAACC,GAAK,OAAM7B,EAAKK,WAAawB,EAAMC,OAAOJ,IAArC,EACpBK,SAAUhD,KAAKiD,iBAEf/B,EAAA,QAAAE,IAAA,2CAAMQ,KAAK,sB,6PAjIT,G","ignoreList":[]}