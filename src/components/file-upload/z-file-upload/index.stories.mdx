import { html } from "lit-html";
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { text, boolean, select } from "@storybook/addon-knobs";

<Meta title="Inputs/ZFileUpload" component="z-file-upload" />

# ZFileUpload

<Preview>
  <Story name="ZFileUpload default version">
    {html`<z-heading level="4">This story embeds a piece of js script to allow the component to work properly. Please refresh the page before using it!</z-heading><br>
    <z-file-upload type="default" 
                         button-variant="${select(
                            "ButtonVariant",
                            ["primary", "secondary"],
                            "primary"
                          )}"
                         file-max-size="${text("fileMaxSize", "50")}"
                         accepted-format="${text("acceptedFormat", ".pdf, .doc, .tiff, .png, .jpg")}"
                         main-title="${text("mainTitle", "Allega un file")}"  
                         description="${text("description", "Vuoi allegare un file per chiarire meglio la tua richiesta?")}">
      </z-file-upload>
      <script>
        const uploader = document.querySelector("z-file-upload");
        let fileNumber = 0;
          document.addEventListener("fileInput", (e) => {
            fileNumber++;
              const item = e.detail
                  const chip = document.createElement('Z-FILE')
                  chip.setAttribute('slot', 'files')
                  chip.setAttribute('file-number', fileNumber)
                  chip.innerText = item.name
                  uploader.appendChild(chip);
          })
        </script>`}
  </Story>
</Preview>

<Preview>
  <Story name="ZFileUpload dragdrop version">
    {html`
    <z-heading level="4">This story embeds a piece of js script to allow the component to work properly. Please refresh the page before using it!</z-heading><br>
    <z-file-upload type="dragdrop" 
                         file-max-size="${text("fileMaxSize", "50")}"
                         accepted-format="${text("acceptedFormat", ".pdf, .doc, .tiff, .png, .jpg")}" 
                         main-title="${text("mainTitle", "Allega un file")}"  
                         description="${text("description", "Vuoi allegare un file per chiarire meglio la tua richiesta?")}">
      </z-file-upload>
      <script>
        const uploader = document.querySelector("z-file-upload");
          document.addEventListener("fileInput", (e) => {
              const item = e.detail
                  const chip = document.createElement('Z-FILE')
                  chip.setAttribute('slot', 'files')
                  chip.setAttribute('filetype', item.type)
                  chip.innerText = item.name
                  uploader.appendChild(chip);
          })
        </script>`}
  </Story>
</Preview>

<Props of="z-file-upload" />


