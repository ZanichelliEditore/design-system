import {Meta, Canvas, Story, ArgsTable} from "@storybook/addon-docs";
import {BreadcrumbHomepageVariant, BreadcrumbPathStyle} from "../../beans";
import {html} from "lit-html";
import "./index";
import "./style.stories.css";

<Meta
  title="ZBreadcrumb"
  component="z-breadcrumb"
  argTypes={{
    pathStyle: {
      options: Object.values(BreadcrumbPathStyle),
      control: {type: "select"},
    },
    homepageVariant: {
      options: Object.values(BreadcrumbHomepageVariant),
      control: {type: "select"},
    },
    maxNodesToShow: {
      control: {type: "number"},
    },
    preventFollowUrl: {
      control: {type: "boolean"},
    },
    overflowMenuItemRows: {
      control: {type: "number"},
    },
    truncateChar: {
      control: {type: "number"},
    },
  }}
/>

# ZBreadcrumb

<Canvas>
  <Story
    name="Breadcrumb"
    args={{
      pathStyle: BreadcrumbPathStyle.SEMIBOLD,
      homepageVariant: BreadcrumbHomepageVariant.ICON,
      maxNodesToShow: 5,
      preventFollowUrl: false,
      overflowMenuItemRows: 0,
      truncateChar: 30,
    }}
  >
    {(args) => html`<div class="z-breadcrumb-story-container">
      <z-breadcrumb
        path-style=${args.pathStyle}
        homepage-variant=${args.homepageVariant}
        max-nodes-to-show=${args.maxNodesToShow}
        prevent-follow-url=${args.preventFollowUrl}
        overflow-menu-item-rows=${args.overflowMenuItemRows}
        truncate-char=${args.truncateChar}
      >
        <a href="https://www.zanichelli.it"></a>
        <a href="./link1">Lingua inglese - Scuola secondaria di primo grado</a>
        <a href="./link2">Lingua Inglese - Lessico e funzioni linguistiche e comunicative</a>
        <a href="./link3">Il tempo libero e i luoghi del tempo libero</a>
        <a href="./link4">Chiedere di e descrivere le proprie vacanze</a>
      </z-breadcrumb>
    </div>`}
  </Story>
</Canvas>

<ArgsTable of="z-breadcrumb" />

### Usage

Breadcrumb is a relevant component for SEO oriented applications.
As the crawlers flatten the light dom and the shadow dom, it is important to move all the relevant SEO content in the light DOM, to not affect indexability.

The component will handle the logic for generating the proper markup inside the shadow dom.
No slot is rendered inside the latter.
Like the other use case, don't pass a custom label to the first child because it will be overwritten by the default home value.
This mode can be also used by SEO non-relevant application.

```html
<z-breadcrumb>
  <a href="./home_link"></a>
  <a href="./link1">link1</a>
  <a href="./link2">link2</a>
  <a href="./link3">link3</a>
</z-breadcrumb>
```

### Accessibility consideration

This component follows the accessibility guidelines provided by W3C https://www.w3.org/WAI/ARIA/apg/patterns/breadcrumb/examples/breadcrumb/
