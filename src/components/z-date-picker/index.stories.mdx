import { html } from "lit-html";
import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";

import { ZDatePickerMode } from "../../beans";

import "./index";
import "./styles.css";

<Meta
  title="ZDatePicker"
  component="z-date-picker"
  argTypes={{
    mode: {
      options: Object.values(ZDatePickerMode),
      control: { type: "radio" },
    },
    datepickerid: {
      control: "text",
    },
  }}
/>

# ZDatePicker with date

<Canvas>
  <Story
    name="ZDatePicker with date"
    args={{
      mode: "date",
      datepickerid: "picker-01",
    }}
  >
    {(args) => html`
      <z-date-picker
        mode=${args.mode}
        datepickerid=${args.datepickerid}
        id=${args.datepickerid}
      ></z-date-picker>
      <script>
        const picker1 = document.getElementById("${args.datepickerid}");
        picker1.addEventListener("dateSelect", (e) => alert(e.detail));
      </script>
    `}
  </Story>
</Canvas>

# ZDatePicker with date and time

<Canvas>
  <Story
    name="ZDatePicker with date and time"
    args={{
      mode: "date-time",
      datepickerid: "picker-02",
    }}
  >
    {(args) => html`
      <z-date-picker
        mode=${args.mode}
        datepickerid=${args.datepickerid}
        id=${args.datepickerid}
      ></z-date-picker>
      <script>
        const picker2 = document.getElementById("${args.datepickerid}");
        picker2.addEventListener("dateSelect", (e) => alert(e.detail));
      </script>
    `}
  </Story>
</Canvas>

# ZDatePicker with only months

<Canvas>
  <Story
    name="ZDatePicker with only months"
    args={{
      mode: "months",
      datepickerid: "picker-03",
    }}
  >
    {(args) => html`
      <z-date-picker
        mode=${args.mode}
        datepickerid=${args.datepickerid}
        id=${args.datepickerid}
      ></z-date-picker>
      <script>
        const picker3 = document.getElementById("${args.datepickerid}");
        picker3.addEventListener("dateSelect", (e) => alert(e.detail));
      </script>
    `}
  </Story>
</Canvas>

# ZDatePicker with custom toggle

<Canvas>
  <Story
    name="ZDatePicker with custom toggle"
    args={{
      mode: "date",
      datepickerid: "picker-04",
    }}
  >
    {(args) => html`
      <z-date-picker
        mode=${args.mode}
        datepickerid=${args.datepickerid}
        id=${args.datepickerid}
        ><z-button slot="toggle">Open ZDatePicker</z-button></z-date-picker
      >
      <script>
        const picker4 = document.getElementById("${args.datepickerid}");
        picker4.addEventListener("dateSelect", (e) => alert(e.detail));
      </script>
    `}
  </Story>
</Canvas>

<ArgsTable of="z-date-picker" />

## Usage

In order to avoid conflits between datepickers, pass a unique id as `datepickerid` prop.

This component has a callback function `dateSelect` that returns the selected date.
