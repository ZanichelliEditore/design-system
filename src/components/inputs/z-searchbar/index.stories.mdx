import {html} from "lit-html";
import {Meta, Canvas, Story, Preview, Props, ArgsTable} from "@storybook/addon-docs";
import "./index";

## Stories

<Meta
  title="Inputs/ZSearchbar"
  component="z-searchbar"
  argTypes={{
    "preventSubmit": {
      control: {type: "boolean"},
    },
    "showSearchButton": {
      control: {type: "boolean"},
    },
    "autocomplete": {
      control: {type: "boolean"},
    },
    "autocompleteMinChars": {
      control: {type: "number"},
    },
    "resultsCount": {
      control: {type: "number"},
    },
    "resultsEllipsis": {
      control: {type: "boolean"},
    },
    "searchHelperLabel": {
      control: {type: "text"},
    },
    "resultsItems": {
      control: {type: "object"},
    },
    "sortResultsItems": {
      control: {type: "boolean"},
    },
    "htmlid": {
      control: {type: "text"},
    },
    "placeholder": {
      control: {type: "text"},
    },
    "value": {
      control: {type: "text"},
    },
    "--z-searchbar-results-height": {
      control: {type: "text"},
    },
  }}
  args={{
    "preventSubmit": false,
    "showSearchButton": false,
    "autocomplete": false,
    "autocompleteMinChars": 3,
    "resultsCount": "",
    "resultsEllipsis": true,
    "searchHelperLabel": "Cerca {searchString}",
    "resultsItems": [{label: "first item"}, {label: "second item"}, {label: "third item"}, {label: "fourth item"}],
    "sortResultsItems": false,
    "htmlid": "myId",
    "placeholder": "my placeholder",
    "value": "",
    "--z-searchbar-results-height": "",
  }}
/>

# ZSearchbar

<Canvas>
  <Story name="z-searchbar">
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          show-search-button=${args.showSearchButton}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - simple search

<Canvas>
  <Story
    name="z-searchbar - simple search"
    parameters={{
      controls: {
        include: ["value", "placeholder", "htmlid"],
      },
    }}
    args={{
      htmlid: "myIdSimple",
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit="false"
          autcomplete="false"
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - autocomplete

<Canvas>
  <Story
    name="z-searchbar - autocomplete"
    args={{
      autocomplete: true,
      htmlid: "myIdAutocomplete",
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - autocomplete with complex items

<Canvas>
  <Story
    name="z-searchbar - autocomplete with complex items"
    args={{
      autocomplete: true,
      htmlid: "myIdGroupedAutocomplete",
      resultsItems: [
        {
          label: "first item",
          icon: "download",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "second item",
          icon: "collezioni",
          category: "Category B",
          subcategory: "Subcategory B1",
        },
        {
          label: "third item",
          icon: "dictonary",
          category: "Category A",
          subcategory: "Subcategory A2",
        },
        {
          label: "fourth item",
          icon: "exercises-online",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "fifth item",
          icon: "interactives-maps",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "sixth item",
          icon: "textual-analysis",
          category: "Category B",
          subcategory: "Subcategory B1",
        },
      ],
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

<ArgsTable of="z-searchbar" />
