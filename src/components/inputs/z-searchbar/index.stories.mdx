import {html} from "lit-html";
import {Meta, Story, Canvas, ArgsTable} from "@storybook/addon-docs";
import {ControlSize, ButtonVariant} from "../../../beans";
import "./index";

<Meta
  title="Inputs/ZSearchbar"
  component="z-searchbar"
  argTypes={{
    "preventSubmit": {
      control: {type: "boolean"},
    },
    "showSearchButton": {
      control: {type: "boolean"},
    },
    "searchButtonIconOnly": {
      control: {type: "boolean"},
    },
    "autocomplete": {
      control: {type: "boolean"},
    },
    "autocompleteMinChars": {
      control: {type: "number"},
    },
    "resultsCount": {
      control: {type: "number"},
    },
    "resultsEllipsis": {
      control: {type: "boolean"},
    },
    "searchHelperLabel": {
      control: {type: "text"},
    },
    "resultsItems": {
      control: {type: "object"},
    },
    "sortResultsItems": {
      control: {type: "boolean"},
    },
    "htmlid": {
      control: {type: "text"},
    },
    "placeholder": {
      control: {type: "text"},
    },
    "value": {
      control: {type: "text"},
    },
    "--z-searchbar-results-height": {
      control: {type: "text"},
    },
    "size": {
      control: {type: "inline-radio"},
      options: Object.values(ControlSize),
    },
    "variant": {
      control: {type: "inline-radio"},
      options: Object.values(ButtonVariant),
    },
  }}
  args={{
    "preventSubmit": false,
    "showSearchButton": false,
    "searchButtonIconOnly": false,
    "autocomplete": false,
    "autocompleteMinChars": 3,
    "resultsCount": "",
    "resultsEllipsis": true,
    "searchHelperLabel": "Cerca {searchString}",
    "resultsItems": [{label: "first item"}, {label: "second item"}, {label: "third item"}, {label: "fourth item"}],
    "sortResultsItems": false,
    "htmlid": "myId",
    "placeholder": "my placeholder",
    "value": "",
    "--z-searchbar-results-height": "",
    "size": ControlSize.BIG,
    "variant": ButtonVariant.PRIMARY,
  }}
/>

# ZSearchbar

<Canvas>
  <Story name="z-searchbar">
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          show-search-button=${args.showSearchButton}
          search-button-icon-only=${args.searchButtonIconOnly}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
          size=${args.size}
          variant=${args.variant}
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - simple search

<Canvas>
  <Story
    name="z-searchbar - simple search"
    parameters={{
      controls: {
        include: ["value", "placeholder", "htmlid", "size"],
      },
    }}
    args={{
      htmlid: "myIdSimple",
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit="false"
          show-search-button=${args.showSearchButton}
          search-button-icon-only=${args.searchButtonIconOnly}
          autcomplete="false"
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          size=${args.size}
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - autocomplete

<Canvas>
  <Story
    name="z-searchbar - autocomplete"
    args={{
      autocomplete: true,
      htmlid: "myIdAutocomplete",
      showSearchButton: false,
      searchButtonIconOnly: false,
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          show-search-button=${args.showSearchButton}
          search-button-icon-only=${args.searchButtonIconOnly}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
          size=${args.size}
          variant=${args.variant}
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

# ZSearchbar - autocomplete with complex items

<Canvas>
  <Story
    name="z-searchbar - autocomplete with complex items"
    args={{
      autocomplete: true,
      htmlid: "myIdGroupedAutocomplete",
      showSearchButton: false,
      searchButtonIconOnly: false,
      resultsItems: [
        {
          label: "first item",
          icon: "download",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "second item",
          icon: "collezioni",
          category: "Category B",
          subcategory: "Subcategory B1",
        },
        {
          label: "third item",
          icon: "dictonary",
          category: "Category A",
          subcategory: "Subcategory A2",
        },
        {
          label: "fourth item",
          icon: "exercises-online",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "fifth item",
          icon: "interactives-maps",
          category: "Category A",
          subcategory: "Subcategory A1",
        },
        {
          label: "sixth item",
          icon: "textual-analysis",
          category: "Category B",
          subcategory: "Subcategory B1",
        },
      ],
    }}
  >
    {(args) =>
      html`
        <z-searchbar
          prevent-submit=${args.preventSubmit}
          show-search-button=${args.showSearchButton}
          search-button-icon-only=${args.searchButtonIconOnly}
          autocomplete=${args.autocomplete}
          autocomplete-min-chars=${args.autocompleteMinChars}
          results-count=${args.resultsCount}
          results-ellipsis=${args.resultsEllipsis}
          search-helper-label=${args.searchHelperLabel}
          results-items=${JSON.stringify(args.resultsItems)}
          sort-results-items=${JSON.stringify(args.sortResultsItems)}
          value=${args.value}
          placeholder=${args.placeholder}
          htmlid=${args.htmlid}
          style="--z-searchbar-results-height: ${args["--z-searchbar-results-height"]}"
          size=${args.size}
          variant=${args.variant}
        ></z-searchbar>
      `
    }
  </Story>
</Canvas>

<ArgsTable of="z-searchbar" />
