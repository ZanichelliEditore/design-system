import { html } from "lit-html";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { PopoverPositions } from "../../beans";
import { getColorTokens } from "../../utils/storybook-utils";
import "./index.stories.css";
import "./index";

## ZPopover

To be sure the AUTO algorithm finds the right container when calculating the position, set its container's position to `position: relative;`

<Meta
  title="ZPopover"
  component="z-popover"
  argTypes={{
    position: {
      options: Object.values(PopoverPositions),
      control: { type: "select" },
    },
    open: {
      control: { type: "boolean" },
    },
    center: {
      control: { type: "boolean" },
    },
    showArrow: {
      control: { type: "boolean" },
    },
    "--z-popover-theme--surface": {
      options: getColorTokens(),
      control: {
        type: "select",
      },
    },
    "--z-popover-theme--text": {
      options: getColorTokens(),
      control: {
        type: "select",
      },
    },
  }}
/>

# ZPopover

<Canvas>
  <Story
    name="contextual-menu-like"
    args={{
      position: PopoverPositions.RIGHT_BOTTOM,
      open: true,
      "--z-popover-theme--surface": "var(--color-surface01)",
      "--z-popover-theme--text": "var(--color-text01)",
    }}
  >
    {(args) => html`
      <div class="popover-container">
        <z-popover
          .position=${args.position}
          .open=${args.open}
          .center=${args.center}
          .showArrow=${args.showArrow}
          bind-to="#icon"
          style="--z-popover-theme--surface: var(${args["--z-popover-theme--surface"]})
          --z-popover-theme--text: var(${args["--z-popover-theme--text"]})"
        >
          <div class="container">
            <z-button slot="trigger" icon="gear">
              Impostazioni
            </z-button>
          </div>
        </z-popover>
        <z-icon id="icon" name="plus-square-filled"></z-icon>
      </div>
    `}
  </Story>
</Canvas>

<ArgsTable of="z-popover" />
