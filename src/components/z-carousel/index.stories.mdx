import { html } from "lit-html";
import { CarouselArrowsPosition, CarouselProgressMode } from "../../beans";
import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";

import "./index.stories.css";
import "./index";

<Meta
  title="ZCarousel"
  component="z-carousel"
  argTypes={{
    label: { control: { type: 'text' } },
    isLoading: { control: { type: "boolean" } },
    ghostLoadinghHeight: {
      control: "number",
    },
    progress: {
      options: Object.values(CarouselProgressMode),
      control: { type: "select" },
    },
    zCarouselGutter: { control: "number", min: 0 },
  }}
/>

# ZCarousel

<Canvas>
  <Story
    name="ZCarousel-over-arrows"
  >
    {(args) => html`<z-carousel
      label=${args.label || ''}
      arrows=${CarouselArrowsPosition.OVER}
    >
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
    </z-carousel>`}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="ZCarousel-single-bottom-arrows"
    parameters={{
      layout: "centered",
    }}
    args={{
      label: 'Carousel title',
      progress: CarouselProgressMode.DOTS,
    }}
  >
    {(args) => html`<z-carousel
      single
      label=${args.label}
      arrows=${CarouselArrowsPosition.BOTTOM}
      progress=${args.progress}
      style="width: 200px; height: 200px;"
    >
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
    </z-carousel>`}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="ZCarousel-single-over-arrows"
    parameters={{
      layout: "centered",
    }}
    args={{
      label: 'Carousel title',
      progress: CarouselProgressMode.DOTS,
    }}
  >
    {(args) => html`<z-carousel
      single
      label=${args.label}
      arrows=${CarouselArrowsPosition.OVER}
      progress=${args.progress}
      style="width: 200px; height: 200px;"
    >
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
      <li tabindex="0">
        <div class="carousel-box"></div>
      </li>
    </z-carousel>`}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="ZCarousel-with-elements-loading"
    args={{
      label: 'Carousel title',
    }}
  >
    {(args) => html`<z-carousel
      label=${args.label}
    >
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
      <li>
        <div class="carousel-box-loading">
          <z-ghost-loading></z-ghost-loading>
        </div>
      </li>
    </z-carousel>`}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="ZCarousel-ghost-loading"
    args={{
      label: 'Carousel title',
      isLoading: true,
      ghostLoadinghHeight: 200,
    }}
  >
    {(args) => html`<z-carousel
      label=${args.label}
      is-loading=${args.isLoading}
      ghost-loading-height=${args.ghostLoadinghHeight}
    >
    </z-carousel>`}
  </Story>
</Canvas>

<ArgsTable of="z-carousel" />

## Description

This component was conceived as a list of elements to respect the rules of accessibility (https://www.w3.org/WAI/tutorials/carousels/working-example/).

## Usage

Pass any number of elements inside its main `slot`.

```html
<z-carousel>
  <li>element</li>
  <li>element</li>
  <li>element</li>
</z-carousel>
```

> Note: always use `li` elements as direct children of `z-carousel`, as it wraps them into an `ul` element.

You can set the gutter between the elements by using the `--z-carousel-gutter` custom property.
From css:

```css
z-carousel {
  --z-carousel-gutter: 16px;
}
```

## Ghost loading notes

You can handle ghost loading for the whole z-carousel passing two properties:

- `isLoading` (boolean) : if `true`, it shows z-ghost-loading element.
- `ghostLoadinghHeight` (number): sets the height of the z-carousel ghost loading component.

You can also handle ghost-loading of each single z-carousel element.
You can see an example of use in the preview above (with story's name as ZCarousel-with-elements-loading).
