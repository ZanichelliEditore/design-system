import {html} from "lit-html";
import {Meta, Story, Preview, Props} from "@storybook/addon-docs";
import "./index";

<Meta
  title="Table/ZTableExpandedRow"
  component="z-table-expanded-row"
/>

# ZTableExpandedRow

<Preview>
  <Story name="ZTableExpandedRow-all-expanded">
    {html`<style>
        .expanded-row-content {
          margin: 0 calc(var(--space-unit) * 2) 0 calc(var(--space-unit) * 2);
          padding: calc(var(--space-unit) * 2) 0 calc(var(--space-unit) * 2) 0;
          border-top: 1px solid var(--gray200);
        }
      </style>
      <z-table bordered="true">
        <z-table-head>
          <z-table-header-row expandable="true">
            <z-table-header>
              <span>Titolo 1</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 2</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 3</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 4</span>
            </z-table-header>
          </z-table-header-row>
        </z-table-head>
        <z-table-body>
          <z-table-row expanded-type="expandable">
            <z-table-cell>
              <span>Contenuto 1-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div class="expanded-row-content">Contenuto aggiuntivo 1</div>
          </z-table-expanded-row>
          <z-table-row expanded-type="expandable">
            <z-table-cell>
              <span>Contenuto 2-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div class="expanded-row-content">Contenuto aggiuntivo 2</div>
          </z-table-expanded-row>
          <z-table-row expanded-type="expandable">
            <z-table-cell>
              <span>Contenuto 3-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div class="expanded-row-content">Contenuto aggiuntivo 3</div>
          </z-table-expanded-row>
        </z-table-body>
        <z-table-sticky-footer slot="sticky-footer">
          <span>This is a sticky footer</span>
        </z-table-sticky-footer>
      </z-table>`}
  </Story>
  <Story name="ZTableExpandedRow-mix">
    {html`<style>
        .expanded-row-content {
          margin: 0 calc(var(--space-unit) * 2) 0 calc(var(--space-unit) * 2);
          padding: calc(var(--space-unit) * 2) 0 calc(var(--space-unit) * 2) 0;
          border-top: 1px solid var(--gray200);
        }
      </style>
      <z-table bordered="true">
        <z-table-head>
          <z-table-header-row expandable="true">
            <z-table-header>
              <span>Titolo 1</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 2</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 3</span>
            </z-table-header>
            <z-table-header>
              <span>Titolo 4</span>
            </z-table-header>
          </z-table-header-row>
        </z-table-head>
        <z-table-body>
          <z-table-row expanded-type="padding">
            <z-table-cell>
              <span>Contenuto 1-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 1-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div>Contenuto aggiuntivo 1</div>
          </z-table-expanded-row>
          <z-table-row expanded-type="expandable">
            <z-table-cell>
              <span>Contenuto 2-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 2-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div class="expanded-row-content">Contenuto aggiuntivo 2</div>
          </z-table-expanded-row>
          <z-table-row expanded-type="padding">
            <z-table-cell>
              <span>Contenuto 3-1</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-2</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-3</span>
            </z-table-cell>
            <z-table-cell>
              <span>Contenuto 3-4</span>
            </z-table-cell>
          </z-table-row>
          <z-table-expanded-row col-span="5">
            <div>Contenuto aggiuntivo 3</div>
          </z-table-expanded-row>
        </z-table-body>
        <z-table-sticky-footer slot="sticky-footer">
          <span>This is a sticky footer</span>
        </z-table-sticky-footer>
      </z-table>`}
  </Story>
</Preview>

<Props of="z-table-expanded-row" />

## How to use

To make a row expandable you need to set **expandType** prop to "**expandable**"" in the **z-table-row component**, then
you have to add a **z-table-extended-row** after each z-table-row.
The extended row has a mandatory prop **col-span**, set the number of the total column of the table (consider the additional column for the
expand button)

### N.B.

If you insert both expandable and non-expandable rows, for the non-expandable ones you must set the **expandType** prop to "**padding**"
to respect the correct alignment.

When you insert a clickable element in the row (for example z-button or z-icon) remember to add **stopPropagation()**
to the onClick function to prevent unwanted row expansion.

### Spacing and borders

In order to improve modularity and component flexibility, spacing related rules must be handled inside the content component.
