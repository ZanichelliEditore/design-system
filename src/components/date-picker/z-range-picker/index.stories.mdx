import { html } from "lit-html";
import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";

import { ZDatePickerMode } from "../../../beans";

import "./index";
import "../styles.css";

<Meta
  title="DatePicker/ZRangePicker"
  component="z-range-picker"
  argTypes={{
    mode: {
      options: Object.values(ZDatePickerMode),
      control: { type: "radio" },
    },
    rangePickerId: {
      control: "text",
    },
  }}
/>

# ZDatePicker with date

<Canvas>
  <Story
    name="ZDatePicker with date"
    args={{
      mode: "date",
      rangePickerId: "picker-01",
    }}
    height="180px"
  >
    {(args) => html`
      <div style="height:300px; padding-top:40px">
        <z-range-picker
          mode=${args.mode}
          rangePickerId=${args.rangePickerId}
          id=${args.rangePickerId}
        ></z-range-picker>
      </div>
      <script>
        const picker1 = document.getElementById("${args.rangePickerId}");
        picker1.addEventListener("dateSelect", (e) => console.log(e.detail));
      </script>
    `}
  </Story>
</Canvas>

# ZDatePicker with date and time

<Canvas>
  <Story
    name="ZDatePicker with date and time"
    args={{
      mode: "date-time",
      rangePickerId: "picker-02",
    }}
  >
    {(args) => html`
      <script>
        const picker2 = document.getElementById("${args.rangePickerId}");
        picker2.addEventListener("dateSelect", (e) => {
          const input = document.getElementById("output");
          input.innerHTML = e.detail;
        });
      </script>
      <div style="display:flex">
        <div style="height:300px; padding-top:40px">
          <z-range-picker
            mode=${args.mode}
            rangePickerId=${args.rangePickerId}
            id=${args.rangePickerId}
          ></z-range-picker>
        </div>
        <div
          style="display:flex; flex-direction: column; margin-left: 100px; border:1px solid black; width:400px; margin-top:40px; height:80px"
        >
          <span>OUTPUT:</span>
          <br />
          <span id="output" />
        </div>
      </div>
    `}
  </Story>
</Canvas>

## Usage

In order to avoid conflits between datepickers, pass a unique id as `rangePickerId` prop.

This component has a callback function `dateSelect` that returns the selected date.
