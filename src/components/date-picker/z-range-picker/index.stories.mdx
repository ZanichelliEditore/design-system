import {html} from "lit-html";
import {Meta, Canvas, Story, ArgsTable} from "@storybook/addon-docs";

import {ZRangePickerMode} from "../../../beans";

import "./index";
import "../styles.css";
import "../index.stories.css";

<Meta
  title="DatePicker/ZRangePicker"
  component="z-range-picker"
  argTypes={{
    mode: {
      options: Object.values(ZRangePickerMode),
      control: {type: "radio"},
    },
    rangePickerId: {
      control: "text",
    },
  }}
/>

# ZRangePicker with date

<Canvas>
  <Story
    name="ZRangePicker with date"
    args={{
      mode: "date",
      rangePickerId: "picker-01",
      firstLabel: "Start date",
      firstAriaLabel: "start-date",
      secondLabel: "End date",
      secondAriaLabel: "end-date",
    }}
    height="180px"
  >
    {(args) => html`
      <script>
        document.getElementById("${args.rangePickerId}").addEventListener("dateSelect", (e) => {
          const input = document.getElementById("output");
          input.innerHTML = "[" + e.detail[0] + ", " + e.detail[1] + "]";
        });
      </script>
      <div class="story-container">
        <div class="story-picker-container">
          <z-range-picker
            mode=${args.mode}
            range-picker-id=${args.rangePickerId}
            id=${args.rangePickerId}
            first-aria-label=${args.firstAriaLabel}
            first-label=${args.firstLabel}
            second-aria-label=${args.secondAriaLabel}
            second-label=${args.secondLabel}
          ></z-range-picker>
        </div>
        <div class="story-output-container">
          <span>OUTPUT:</span>
          <br />
          <span id="output" />
        </div>
      </div>
    `}
  </Story>
</Canvas>

# ZRangePicker with date and time

<Canvas>
  <Story
    name="ZRangePicker with date and time"
    args={{
      mode: "date-time",
      rangePickerId: "picker-02",
      firstLabel: "Start date",
      firstAriaLabel: "start-date",
      secondLabel: "End date",
      secondAriaLabel: "end-date",
    }}
  >
    {(args) => html`
      <script>
        document.getElementById("${args.rangePickerId}").addEventListener("dateSelect", (e) => {
          const input = document.getElementById("output");
          input.innerHTML = "[" + e.detail[0] + ", " + e.detail[1] + "]";
        });
      </script>
      <div class="story-container">
        <div class="story-picker-container">
          <z-range-picker
            mode=${args.mode}
            range-picker-id=${args.rangePickerId}
            id=${args.rangePickerId}
            first-aria-label=${args.firstAriaLabel}
            first-label=${args.firstLabel}
            second-aria-label=${args.secondAriaLabel}
            second-label=${args.secondLabel}
          ></z-range-picker>
        </div>
        <div class="story-output-container">
          <span>OUTPUT:</span>
          <br />
          <span id="output" />
        </div>
      </div>
    `}
  </Story>
</Canvas>

## Usage

In order to avoid conflits between datepickers, pass a unique id as `rangePickerId` prop.

This component has a callback function `dateSelect` that returns the selected date.
