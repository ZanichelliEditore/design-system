import {html} from "lit-html";
import {Meta, Story, Canvas, ArgsTable} from "@storybook/addon-docs";
import {PopoverPosition} from "../../../beans";
import {getColorTokens} from "../../../utils/storybook-utils";
import "./index.stories.css";
import "./index";

## ZTooltip

To be sure the algorithm finds the right container, when calculating the position, set its position to `position: relative;`

On the following Story, the "position" prop can be set only for the original positions of the `z-tooltip` by design.

<Meta
  title="Notification/ZTooltip"
  component="z-tooltip"
  argTypes={{
    "position": {
      options: [
        PopoverPosition.AUTO,
        PopoverPosition.TOP,
        PopoverPosition.BOTTOM,
        PopoverPosition.LEFT,
        PopoverPosition.RIGHT,
        PopoverPosition.TOP_LEFT,
        PopoverPosition.TOP_RIGHT,
        PopoverPosition.BOTTOM_LEFT,
        PopoverPosition.BOTTOM_RIGHT,
      ],
      control: {type: "select"},
    },
    "dark": {
      control: {type: "boolean"},
    },
    "--z-tooltip-theme--surface": {
      options: getColorTokens(),
      control: {type: "select"},
    },
  }}
/>

<Canvas>
  <Story
    name="z-tooltip"
    args={{
      "position": PopoverPosition.LEFT,
      "dark": false,
      "--z-tooltip-theme--surface": "var(--color-surface01)",
    }}
  >
    {(args) => html`
      <div class="tooltip-container">
        <z-button
          id="trigger"
          size="small"
          icon="plus-filled"
        ></z-button>
        <z-tooltip
          .position=${args.position}
          .dark=${args.dark}
          bind-to="#trigger"
          style="--z-tooltip-theme--surface: var(${args["--z-tooltip-theme--surface"]})"
        >
          <div class="container">
            <z-button>Open</z-button>
            <z-button>Save as</z-button>
            <z-button>Share</z-button>
          </div>
        </z-tooltip>
      </div>
      <script>
        document.querySelector("#trigger").addEventListener("click", () => {
          if (document.querySelector("z-tooltip").open) {
            document.querySelector("z-tooltip").open = false;
          } else {
            document.querySelector("z-tooltip").open = true;
          }
        });
      </script>
    `}
  </Story>
</Canvas>

<ArgsTable of="z-tooltip" />
