import {html} from "lit-html";
import {Meta, Story, Canvas, ArgsTable} from "@storybook/addon-docs";
import {NavigationTabsSize, NavigationTabsOrientation} from "../../../../beans/index";
import {getColorVars, getColorVarsLabels} from "../../../../utils/storybook-utils";
import {styleMap} from "lit-html/directives/style-map";
import "./index";
import "./index.stories.css";
import "./index.stories.js";

# ZNavigationTabs

<Meta
  title="ZNavigationTabs/ZNavigationTabs"
  component="z-navigation-tabs"
  subcomponents={{
    ZNavigationTab: "z-navigation-tab",
    ZNavigationTabLink: "z-navigation-tab-link",
  }}
  argTypes={{
    "orientation": {
      options: Object.values(NavigationTabsOrientation),
      control: {
        type: "inline-radio",
      },
    },
    "ariaLabel": {
      control: {type: "text"},
    },
    "--z-navigation-tabs-nav-buttons-bg": {
      control: {type: "select", labels: getColorVarsLabels()},
      options: getColorVars(),
    },
    "--z-navigation-tabs-nav-buttons-fg": {
      control: {type: "select", labels: getColorVarsLabels()},
      options: getColorVars(),
    },
  }}
  args={{
    "--z-navigation-tabs-nav-buttons-bg": "var(--color-white)",
    "--z-navigation-tabs-nav-buttons-fg": "var(--color-primary01)",
  }}
/>

## Horizontal

<Canvas>
  <Story
    name="z-navigation-tabs horizontal"
    argTypes={{
      size: {
        options: Object.values(NavigationTabsSize),
        control: {
          type: "inline-radio",
        },
      },
    }}
    args={{
      orientation: NavigationTabsOrientation.HORIZONTAL,
      size: NavigationTabsSize.BIG,
      ariaLabel: "",
    }}
    parameters={{
      controls: {
        exclude: ["orientation"],
      },
    }}
  >
    {(args) => html`
      <z-navigation-tabs
        orientation=${args.orientation}
        size=${args.size}
        aria-label=${args.ariaLabel}
        style=${styleMap({
          "--z-navigation-tabs-nav-buttons-bg": args["--z-navigation-tabs-nav-buttons-bg"],
          "--z-navigation-tabs-nav-buttons-fg": args["--z-navigation-tabs-nav-buttons-fg"],
        })}
      >
        <z-navigation-tab
          icon="house"
          label="Home"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="map"
          label="Maps"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="download"
          label="Download"
          disabled
        ></z-navigation-tab>
        <z-navigation-tab
          icon="user-avatar"
          label="Users"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="artist"
          label="Artisti"
        ></z-navigation-tab>
        <z-navigation-tab-link
          href="https://www.google.com"
          icon="arrow-quad-north-east"
          label="External link"
          target="_blank"
          htmlTitle="Go to Google"
        ></z-navigation-tab-link>
      </z-navigation-tabs>
    `}
  </Story>
</Canvas>

## Vertical

<Canvas>
  <Story
    name="z-navigation-tabs vertical"
    args={{
      orientation: NavigationTabsOrientation.VERTICAL,
      ariaLabel: "",
    }}
    parameters={{
      controls: {
        exclude: ["orientation"],
      },
    }}
  >
    {(args) => html`
      <z-navigation-tabs
        orientation=${args.orientation}
        aria-label=${args.ariaLabel}
        style=${styleMap({
          "--z-navigation-tabs-nav-buttons-bg": args["--z-navigation-tabs-nav-buttons-bg"],
          "--z-navigation-tabs-nav-buttons-fg": args["--z-navigation-tabs-nav-buttons-fg"],
        })}
      >
        <z-navigation-tab
          icon="house"
          label="Home"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="map"
          label="Maps"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="download"
          label="Download"
          disabled
        ></z-navigation-tab>
        <z-navigation-tab
          icon="user-avatar"
          label="Users"
        ></z-navigation-tab>
        <z-navigation-tab
          icon="artist"
          label="Artisti"
        ></z-navigation-tab>
        <z-navigation-tab-link
          href="https://www.google.com"
          icon="arrow-quad-north-east"
          label="External link"
          target="_blank"
          htmlTitle="Go to Google"
        ></z-navigation-tab-link>
      </z-navigation-tabs>
    `}
  </Story>
</Canvas>

# With tabpanels

This story gives an example of how to handle a `ZNavigationTabs` with switchable `tabpanel`s, which is the most common use for the navigation tabs. Each panel must have the `tabpanel` role and the `aria-labelledby` attribute, referencing the tab that controls it (unless a different label is provided using `aria-label`). Similarly, the prop `ariaControls`/`aria-controls` of the tabs must be set with the `id` of the controlled panel.

For more details check the documentation: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/tab_role

<Canvas>
  <Story
    name="z-navigation-tabs with tabpanels"
    args={{
      ariaLabel: "",
      orientation: NavigationTabsOrientation.HORIZONTAL,
    }}
  >
    {(args) => html`
      <div class="panels-story-wrapper ${args.orientation}">
        <z-navigation-tabs
          orientation=${args.orientation}
          size=${NavigationTabsSize.BIG}
          aria-label=${args.ariaLabel}
          style=${styleMap({
            "--z-navigation-tabs-nav-buttons-bg": args["--z-navigation-tabs-nav-buttons-bg"],
            "--z-navigation-tabs-nav-buttons-fg": args["--z-navigation-tabs-nav-buttons-fg"],
          })}
        >
          <z-navigation-tab
            icon="house"
            label="Home"
            aria-controls="panel-1"
            id="tab-1"
            selected
          ></z-navigation-tab>
          <z-navigation-tab
            icon="info"
            label="Info"
            aria-controls="panel-2"
            id="tab-2"
          ></z-navigation-tab>
        </z-navigation-tabs>
        <div class="panels">
          <div
            id="panel-1"
            role="tabpanel"
          >
            <span>Pannello 1</span>
            <span><z-icon name="house-filled" /></span>
          </div>
          <div
            id="panel-2"
            role="tabpanel"
            hidden
          >
            <span>Pannello 2</span>
            <span><z-icon name="info-filled" /></span>
          </div>
        </div>
      </div>
    `}
  </Story>
</Canvas>

<ArgsTable of="z-navigation-tabs" />
