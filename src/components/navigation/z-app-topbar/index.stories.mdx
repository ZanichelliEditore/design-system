import { html } from 'lit-html';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { boolean, number, object, select, text } from '@storybook/addon-knobs';

export const topbarContent = [
  {
    id: 'first-action',
    label: 'Custom action 1',
    link: 'https://www.example.com',
    icon: 'support',
    target: '_blank',
  },
  {
    id: 'second-action',
    label: 'Custom action 2',
    link: 'https://www.example.com',
    icon: 'question-mark-circle',
    target: '_blank',
  },
];

export const menuContent = [
  {
    id: 'first-item',
    label: 'First item',
    link: 'https://www.example.com',
    target: '_blank',
  },
  {
    id: 'second-item',
    label: 'Second item',
    link: 'https://www.example.com',
    target: '_blank',
  },
];

export let theme = 'dark';
export const setTheme = () => theme = select('Theme', ['dark', 'light'], 'dark');

<Meta title="Navigation/ZAppTopbar" component="z-app-topbar" />

# ZAppTopbar

Here, the component is shown with a `ZUserDropdown` as the container for login actions and user menu.
So, the `useinversecolors` property of the latter is set according to the value of the topbar `theme` property.

The set of links shown inside the topbar are defined through the `topbarcontent` property, as an array of `MenuItem`.
Note that the icon of each item is shown only in the mobile version of the component.

The width of the entire content of the topbar can be controlled to have a maximum value in the case of wide viewports (g.t.e. 1366px)
through the `contentmaxwidth` property.

<Preview>
  <Story name="ZAppTopbar with user dropdown, user not logged">
    {html`
      <z-app-topbar
        theme=${setTheme()}
        showappswitcher=${boolean('Show app switcher', true)}
        topbarcontent=${JSON.stringify(object('Topbar actions', topbarContent))}
        logolink="https://www.example.com"
      >
        <z-user-dropdown
          slot="login"
          useinversecolors=${theme === 'light'}
          logged=${false}
        />
      </z-app-topbar>
    `}
  </Story>
  <Story name="ZAppTopbar with user dropdown, user logged">
    {html`
      <z-app-topbar
        theme=${setTheme()}
        showappswitcher=${boolean('Show app switcher', true)}
        topbarcontent=${JSON.stringify(object('Topbar actions', topbarContent))}
        logolink="https://www.example.com"
      >
        <z-user-dropdown
          slot="login"
          useinversecolors=${theme === 'light'}
          logged=${true}
          userfullname=${text('User full name', 'Nome Cognome')}
          useremail=${text('User email', 'mail@example.com')}
          menucontent=${JSON.stringify(object('User dropdown actions', menuContent))}
        />
      </z-app-topbar>
    `}
  </Story>
</Preview>

<Props of="z-app-topbar" />
