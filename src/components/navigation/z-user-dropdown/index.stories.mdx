import { html } from 'lit-html';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs';
import { boolean, object, text } from '@storybook/addon-knobs';

export const menuContent = [
  {
    id: 'profile',
    label: 'Profilo',
    link: `https://my.zanichelli.it/i-tuoi-dati`,
    target: '_blank'
  },
  {
    id: 'activate-resource',
    label: 'Attiva opera',
    link: `https://my.zanichelli.it`,
    target: '_blank'
  },
  {
    id: 'orders',
    label: 'I tuoi ordini',
    link: `https://my.zanichelli.it/ordini-in-corso`,
    target: '_blank'
  },
  {
    id: 'logout',
    label: 'Esci',
  },
];

export const darkBackground = 'rgb(41, 41, 41)';
export const lightBackground = 'rgb(255, 255, 255)';
export let useInverseColors = false;
export const setUseInverseColors = () => useInverseColors = boolean('Use inverse color combination (useful for light themes)', false);
import "./index";

<Meta title="Navigation/ZUserDropdown" component="z-user-dropdown" />

# ZUserDropdown

This component contains a button to provide user login functionality, along with an interactive panel which is shown when the user is logged.
More specifically, this panel contains user info and a menu with actions customizable through the `menu-content` property, which receives an array of `MenuItem`.

The component is suitable for both dark and light themes, allowing to modify the default dark color combination via the `use-inverse-colors` property.

<Preview>
  <Story name="ZUserDropdown, user not logged">
    {html`
      <div style="background-color: ${setUseInverseColors() ? lightBackground : darkBackground}; padding: 16px; height: 40px; width: fit-content; border-radius: 8px;">
        <z-user-dropdown logged=${false} use-inverse-colors=${setUseInverseColors()} />
      </div>`
    }
  </Story>
  <Story name="ZUserDropdown, user logged">
    {html`
      <div style="background-color: ${setUseInverseColors() ? lightBackground : darkBackground}; padding:16px; height: 40px; width: 400px; border-radius: 8px;">
        <z-user-dropdown
          logged=${true}
          use-inverse-colors=${setUseInverseColors()}
          user-full-name=${text('User full name', 'Nome Cognome')}
          user-email=${text('User email', 'mail@example.com')}
          menu-content=${JSON.stringify(object('User menu items', menuContent))}
        />
      </div>
    `}
  </Story>
</Preview>

<Props of="z-user-dropdown" />
